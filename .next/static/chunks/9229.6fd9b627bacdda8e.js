(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9229],{24333:function(e,t,i){"use strict";var n,s,l=i(52846);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=l.createElement("defs",null,l.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),l.createElement("g",null,s||(s=l.createElement("mask",{id:"clear_svg__b",fill:"#fff"},l.createElement("use",{xlinkHref:"#clear_svg__a"}))),l.createElement("g",{mask:"url(#clear_svg__b)"},l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 9.67h8.67l1-9.67H0l1 9.67Z",transform:"translate(2.667 5)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(6.667 8.334)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(9.334 8.333)"}),l.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 4 5.44-4L8 4",transform:"translate(4 1)"}))))}},67489:function(e,t,i){"use strict";i.r(t),i.d(t,{Settings:function(){return ea}});var n,s,l,a,r,c,o,u,p=i(57437),d=i(2265),g=i(15535),h=i.n(g),S=i(98829),x=i(58870),m=i(38669),T=i(84193),y=i(24333),b=i(24053),P=i(12154),v=i(56073),A=i(72495),j=i(84004),C=i(52846);function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var f=function(e){return C.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),C.createElement("g",null,n||(n=C.createElement("mask",{id:"config_svg__b",fill:"#fff"},C.createElement("use",{xlinkHref:"#config_svg__a"}))),C.createElement("g",{mask:"url(#config_svg__b)"},C.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.833 4h-2a.665.665 0 0 1-.471-1.138.664.664 0 0 1 .471-.195h2a.665.665 0 0 1 .654.796.666.666 0 0 1-.654.537zM9.833 2v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V2a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .296.554z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 4H1.833a.665.665 0 0 1-.554-1.037.665.665 0 0 1 .554-.296h7.333a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.296zM4.5 8.667H1.833A.665.665 0 0 1 1.28 7.63a.665.665 0 0 1 .554-.297H4.5a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.297zM7.833 6.667v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V6.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .296.555z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"M14.5 8.667H7.167a.665.665 0 0 1-.555-1.037.665.665 0 0 1 .555-.297H14.5a.665.665 0 0 1 .471 1.138.664.664 0 0 1-.471.196zM13.833 13.333h-2a.666.666 0 1 1 0-1.333h2a.666.666 0 1 1 0 1.333zM9.833 11.333V14a.665.665 0 0 1-.796.654A.666.666 0 0 1 8.5 14v-2.667a.665.665 0 0 1 1.138-.471.664.664 0 0 1 .195.471z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 13.333H1.833a.666.666 0 1 1 0-1.333h7.333a.666.666 0 1 1 0 1.333z"}))),s||(s=C.createElement("defs",null,C.createElement("path",{id:"config_svg__a",d:"M0 0h16v16H0z"}))))},k=i(12402);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var _=function(e){return C.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),C.createElement("g",null,l||(l=C.createElement("mask",{id:"connection_svg__b",fill:"#fff"},C.createElement("use",{xlinkHref:"#connection_svg__a"}))),C.createElement("g",{mask:"url(#connection_svg__b)"},C.createElement("path",{style:{fill:"#333",opacity:1},d:"M11.867 4.14c-.914-.907-1.823-.908-2.729-.002l-1 1-.471-.471.471-.472 3.67 3.67-.471.472-.472-.472 1-1c.255-.255.421-.639.499-1.151.094-.624-.072-1.15-.499-1.576zm.941-.945c.744.744 1.035 1.65.874 2.717-.12.802-.412 1.434-.874 1.896l-1 1a.667.667 0 0 1-.943 0l-3.67-3.67a.667.667 0 0 1 0-.943l1-1c.462-.462 1.093-.753 1.892-.874 1.065-.16 1.971.13 2.72.872z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"m14.475 2.471-1.67 1.67a.67.67 0 0 1-.727.145.664.664 0 0 1-.299-.986.659.659 0 0 1 .083-.101l1.67-1.67a.664.664 0 0 1 .842-.083.67.67 0 0 1 .283.684.666.666 0 0 1-.182.341zM4.138 11.865c.91.91 1.818.91 2.727 0l1-1 .472.472-.472.471-3.67-3.67.472-.471.471.471-1 1c-.906.906-.905 1.815.002 2.729zm-.945.941c-.742-.748-1.033-1.654-.872-2.719.12-.8.412-1.43.874-1.892l1-1c.26-.26.683-.26.943 0l3.67 3.67c.26.26.26.683 0 .943l-1 1c-.462.462-1.094.753-1.896.874-1.068.161-1.973-.13-2.717-.874z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"m7.195 10.192 1.33-1.33a.665.665 0 0 1 1.125.341.665.665 0 0 1-.182.602l-1.33 1.33a.667.667 0 0 1-.943-.943zM1.529 13.532l1.67-1.67a.659.659 0 0 1 .471-.195.666.666 0 0 1 .471 1.138l-1.67 1.67a.667.667 0 0 1-.942-.943zM4.862 7.859l1.33-1.33a.665.665 0 1 1 .943.942l-1.33 1.33a.665.665 0 0 1-1.125-.34.665.665 0 0 1 .182-.602z"}))),a||(a=C.createElement("defs",null,C.createElement("path",{id:"connection_svg__a",d:"M0 0h16v16H0z"}))))};function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var U=function(e){return C.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),C.createElement("g",null,r||(r=C.createElement("mask",{id:"cloud-success_svg__b",fill:"#fff"},C.createElement("use",{xlinkHref:"#cloud-success_svg__a"}))),C.createElement("g",{mask:"url(#cloud-success_svg__b)"},C.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.426 10.49 2 1.66-.426.513-.52-.417 2.67-3.33a.668.668 0 0 1 1.104.096.667.667 0 0 1-.064.738l-2.67 3.33a.667.667 0 0 1-.946.096l-2-1.66a.663.663 0 0 1-.21-.71.667.667 0 0 1 1.062-.316z"}))),c||(c=C.createElement("defs",null,C.createElement("path",{id:"cloud-success_svg__a",d:"M0 0h16v16H0z"}))))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var K=function(e){return C.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),C.createElement("g",null,o||(o=C.createElement("mask",{id:"cloud-fail_svg__b",fill:"#fff"},C.createElement("use",{xlinkHref:"#cloud-fail_svg__a"}))),C.createElement("g",{mask:"url(#cloud-fail_svg__b)"},C.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"m10.135 9.805-3.33 3.33a.667.667 0 0 1-.943-.943l3.33-3.33a.665.665 0 1 1 .943.943z"}),C.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.805 8.862 3.33 3.33a.67.67 0 0 1 0 .943.672.672 0 0 1-.602.182.666.666 0 0 1-.341-.182l-3.33-3.33a.665.665 0 0 1 .341-1.126.665.665 0 0 1 .602.183z"}))),u||(u=C.createElement("defs",null,C.createElement("path",{id:"cloud-fail_svg__a",d:"M0 0h16v16H0z"}))))},M=i(65878),z=i(9792),O=i(35499),I=i(44922),F=i(13894),N=i(92944),V=i(8792),B=i(75591),D=i(89570),W=i(68454),G=i(60628),L=i(59208),R=i(770),X=i(94880),Q=i(1598),Y=i(84065),q=i(61643),$=i(38248);function J(e){var t;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.TTS.Enable.Title,subTitle:F.ZP.Settings.TTS.Enable.SubTitle,children:(0,p.jsx)("input",{type:"checkbox",checked:e.ttsConfig.enable,onChange:t=>e.updateConfig(e=>e.enable=t.currentTarget.checked)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.TTS.Engine,children:(0,p.jsx)(M.Ph,{value:e.ttsConfig.engine,onChange:t=>{e.updateConfig(e=>e.engine=I.wF.engine(t.currentTarget.value))},children:B.pW.map((e,t)=>(0,p.jsx)("option",{value:e,children:e},t))})}),e.ttsConfig.engine===B.Xu&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.TTS.Model,children:(0,p.jsx)(M.Ph,{value:e.ttsConfig.model,onChange:t=>{e.updateConfig(e=>e.model=I.wF.model(t.currentTarget.value))},children:B.FN.map((e,t)=>(0,p.jsx)("option",{value:e,children:e},t))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.TTS.Voice.Title,subTitle:F.ZP.Settings.TTS.Voice.SubTitle,children:(0,p.jsx)(M.Ph,{value:e.ttsConfig.voice,onChange:t=>{e.updateConfig(e=>e.voice=I.wF.voice(t.currentTarget.value))},children:B.Zq.map((e,t)=>(0,p.jsx)("option",{value:e,children:e},t))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.TTS.Speed.Title,subTitle:F.ZP.Settings.TTS.Speed.SubTitle,children:(0,p.jsx)(G.O,{aria:F.ZP.Settings.TTS.Speed.Title,value:null===(t=e.ttsConfig.speed)||void 0===t?void 0:t.toFixed(1),min:"0.3",max:"4.0",step:"0.1",onChange:t=>{e.updateConfig(e=>e.speed=I.wF.speed(t.currentTarget.valueAsNumber))}})})]})]})}function ee(e){let t=(0,D.f)(),i=t.get(e.id);return i?(0,p.jsx)("div",{className:"modal-mask",children:(0,p.jsx)(M.u_,{title:F.ZP.Settings.Prompt.EditModal.Title,onClose:e.onClose,actions:[(0,p.jsx)(O.h,{onClick:e.onClose,text:F.ZP.UI.Confirm,bordered:!0},"")],children:(0,p.jsxs)("div",{className:h()["edit-prompt-modal"],children:[(0,p.jsx)("input",{type:"text",value:i.title,readOnly:!i.isUser,className:h()["edit-prompt-title"],onInput:i=>t.updatePrompt(e.id,e=>e.title=i.currentTarget.value)}),(0,p.jsx)(M.II,{value:i.content,readOnly:!i.isUser,className:h()["edit-prompt-content"],rows:10,onInput:i=>t.updatePrompt(e.id,e=>e.content=i.currentTarget.value)})]})})}):null}function et(e){let t=(0,D.f)(),i=t.getUserPrompts(),n=D.o.builtinPrompts,s=i.concat(n),[l,a]=(0,d.useState)(""),[r,c]=(0,d.useState)([]),o=l.length>0?r:s,[u,g]=(0,d.useState)();return(0,d.useEffect)(()=>{l.length>0?c(D.o.search(l)):c([])},[l]),(0,p.jsxs)("div",{className:"modal-mask",children:[(0,p.jsx)(M.u_,{title:F.ZP.Settings.Prompt.Modal.Title,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},actions:[(0,p.jsx)(O.h,{onClick:()=>{g(t.add({id:(0,Y.x0)(),createdAt:Date.now(),title:"Empty Prompt",content:"Empty Prompt Content"}))},icon:(0,p.jsx)(x.Z,{}),bordered:!0,text:F.ZP.Settings.Prompt.Modal.Add},"add")],children:(0,p.jsxs)("div",{className:h()["user-prompt-modal"],children:[(0,p.jsx)("input",{type:"text",className:h()["user-prompt-search"],placeholder:F.ZP.Settings.Prompt.Modal.Search,value:l,onInput:e=>a(e.currentTarget.value)}),(0,p.jsx)("div",{className:h()["user-prompt-list"],children:o.map((e,i)=>{var n;return(0,p.jsxs)("div",{className:h()["user-prompt-item"],children:[(0,p.jsxs)("div",{className:h()["user-prompt-header"],children:[(0,p.jsx)("div",{className:h()["user-prompt-title"],children:e.title}),(0,p.jsx)("div",{className:h()["user-prompt-content"]+" one-line",children:e.content})]}),(0,p.jsxs)("div",{className:h()["user-prompt-buttons"],children:[e.isUser&&(0,p.jsx)(O.h,{icon:(0,p.jsx)(y.Z,{}),className:h()["user-prompt-button"],onClick:()=>t.remove(e.id)}),e.isUser?(0,p.jsx)(O.h,{icon:(0,p.jsx)(P.Z,{}),className:h()["user-prompt-button"],onClick:()=>g(e.id)}):(0,p.jsx)(O.h,{icon:(0,p.jsx)(v.Z,{}),className:h()["user-prompt-button"],onClick:()=>g(e.id)}),(0,p.jsx)(O.h,{icon:(0,p.jsx)(T.Z,{}),className:h()["user-prompt-button"],onClick:()=>(0,N.vQ)(e.content)})]})]},null!==(n=e.id)&&void 0!==n?n:e.title)})})]})}),void 0!==u&&(0,p.jsx)(ee,{id:u,onClose:()=>g(void 0)})]})}function ei(){let e=(0,I.aK)(),t=(0,I.MG)();return(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Danger.Reset.Title,subTitle:F.ZP.Settings.Danger.Reset.SubTitle,children:(0,p.jsx)(O.h,{aria:F.ZP.Settings.Danger.Reset.Title,text:F.ZP.Settings.Danger.Reset.Action,onClick:async()=>{await (0,M.i0)(F.ZP.Settings.Danger.Reset.Confirm)&&t.reset()},type:"danger"})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Danger.Clear.Title,subTitle:F.ZP.Settings.Danger.Clear.SubTitle,children:(0,p.jsx)(O.h,{aria:F.ZP.Settings.Danger.Clear.Title,text:F.ZP.Settings.Danger.Clear.Action,onClick:async()=>{await (0,M.i0)(F.ZP.Settings.Danger.Clear.Confirm)&&e.clearAllData()},type:"danger"})})]})}function en(){let e=(0,Q.i)(),t=(0,d.useMemo)(()=>e.cloudSync(),[e]),[i,n]=(0,d.useState)("none");async function s(){n("checking"),n(await e.check()?"success":"failed")}return t?(0,p.jsx)(O.h,{text:F.ZP.Settings.Sync.Config.Modal.Check,bordered:!0,onClick:s,icon:"none"===i?(0,p.jsx)(_,{}):"checking"===i?(0,p.jsx)(b.Z,{}):"success"===i?(0,p.jsx)(U,{}):"failed"===i?(0,p.jsx)(K,{}):(0,p.jsx)(_,{})}):null}function es(e){let t=(0,Q.i)();return(0,p.jsx)("div",{className:"modal-mask",children:(0,p.jsxs)(M.u_,{title:F.ZP.Settings.Sync.Config.Modal.Title,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},actions:[(0,p.jsx)(en,{},"check"),(0,p.jsx)(O.h,{onClick:e.onClose,icon:(0,p.jsx)(k.Z,{}),bordered:!0,text:F.ZP.UI.Confirm},"confirm")],children:[(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.SyncType.Title,subTitle:F.ZP.Settings.Sync.Config.SyncType.SubTitle,children:(0,p.jsx)("select",{value:t.provider,onChange:e=>{t.update(t=>t.provider=e.target.value)},children:Object.entries($.lP).map(e=>{let[t,i]=e;return(0,p.jsx)("option",{value:i,children:t},t)})})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.Proxy.Title,subTitle:F.ZP.Settings.Sync.Config.Proxy.SubTitle,children:(0,p.jsx)("input",{type:"checkbox",checked:t.useProxy,onChange:e=>{t.update(t=>t.useProxy=e.currentTarget.checked)}})}),t.useProxy?(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.ProxyUrl.Title,subTitle:F.ZP.Settings.Sync.Config.ProxyUrl.SubTitle,children:(0,p.jsx)("input",{type:"text",value:t.proxyUrl,onChange:e=>{t.update(t=>t.proxyUrl=e.currentTarget.value)}})}):null]}),t.provider===$.lP.WebDAV&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.WebDav.Endpoint,children:(0,p.jsx)("input",{type:"text",value:t.webdav.endpoint,onChange:e=>{t.update(t=>t.webdav.endpoint=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.WebDav.UserName,children:(0,p.jsx)("input",{type:"text",value:t.webdav.username,onChange:e=>{t.update(t=>t.webdav.username=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.WebDav.Password,children:(0,p.jsx)(M.WU,{value:t.webdav.password,onChange:e=>{t.update(t=>t.webdav.password=e.currentTarget.value)}})})]})}),t.provider===$.lP.UpStash&&(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.UpStash.Endpoint,children:(0,p.jsx)("input",{type:"text",value:t.upstash.endpoint,onChange:e=>{t.update(t=>t.upstash.endpoint=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.UpStash.UserName,children:(0,p.jsx)("input",{type:"text",value:t.upstash.username,placeholder:B.Uf,onChange:e=>{t.update(t=>t.upstash.username=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.Config.UpStash.Password,children:(0,p.jsx)(M.WU,{value:t.upstash.apiKey,onChange:e=>{t.update(t=>t.upstash.apiKey=e.currentTarget.value)}})})]})]})})}function el(){let e=(0,Q.i)(),t=(0,I.aK)(),i=(0,D.f)(),n=(0,q.Zy)(),s=(0,d.useMemo)(()=>e.cloudSync(),[e]),[l,a]=(0,d.useState)(!1),r=(0,d.useMemo)(()=>{let e=t.sessions,s=e.reduce((e,t)=>e+t.messages.length,0);return{chat:e.length,message:s,prompt:Object.keys(i.prompts).length,mask:Object.keys(n.masks).length}},[t.sessions,n.masks,i.prompts]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.CloudState,subTitle:e.lastProvider?"".concat(new Date(e.lastSyncTime).toLocaleString()," [").concat(e.lastProvider,"]"):F.ZP.Settings.Sync.NotSyncYet,children:(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(O.h,{aria:F.ZP.Settings.Sync.CloudState+F.ZP.UI.Config,icon:(0,p.jsx)(f,{}),text:F.ZP.UI.Config,onClick:()=>{a(!0)}}),s&&(0,p.jsx)(O.h,{icon:(0,p.jsx)(S.Z,{}),text:F.ZP.UI.Sync,onClick:async()=>{try{await e.sync(),(0,M.CF)(F.ZP.Settings.Sync.Success)}catch(e){(0,M.CF)(F.ZP.Settings.Sync.Fail),console.error("[Sync]",e)}}})]})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Sync.LocalState,subTitle:F.ZP.Settings.Sync.Overview(r),children:(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(O.h,{aria:F.ZP.Settings.Sync.LocalState+F.ZP.UI.Export,icon:(0,p.jsx)(j.Z,{}),text:F.ZP.UI.Export,onClick:()=>{e.export()}}),(0,p.jsx)(O.h,{aria:F.ZP.Settings.Sync.LocalState+F.ZP.UI.Import,icon:(0,p.jsx)(A.Z,{}),text:F.ZP.UI.Import,onClick:()=>{e.import()}})]})})]}),l&&(0,p.jsx)(es,{onClose:()=>a(!1)})]})}function ea(){var e,t,i,n,s;let l=(0,L.s0)(),[a,r]=(0,d.useState)(!1),c=(0,I.MG)(),o=c.update,u=(0,I.u2)(),[g,x]=(0,d.useState)(!1),T=u.formatVersion(u.version),y=u.formatVersion(u.remoteVersion),v=T!==y,A=(null===(e=(0,X.Z)())||void 0===e?void 0:e.isApp)?B.cr:B.Cs;function j(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];x(!0),u.getLatestVersion(e).then(()=>{x(!1)}),console.log("[Update] local version ",u.version),console.log("[Update] remote version ",u.remoteVersion)}let C=(0,I._X)(),Z=(0,d.useMemo)(()=>{let e=C.openaiUrl.includes(B.Bi);return C.hideBalanceQuery||e||C.provider===B.UT.Azure},[C.hideBalanceQuery,C.openaiUrl,C.provider]),f={used:u.used,subscription:u.subscription},[k,E]=(0,d.useState)(!1);function _(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Z||(E(!0),u.updateUsage(e).finally(()=>{E(!1)}))}let w=(0,d.useMemo)(()=>C.enabledAccessControl(),[]),U=(0,D.f)(),H=D.o.count.builtin,K=null!==(t=U.getUserPrompts().length)&&void 0!==t?t:0,[N,Q]=(0,d.useState)(!1),Y=C.isAuthorized();(0,d.useEffect)(()=>{j(),Y&&_()},[]),(0,d.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l(B.y$.Home)};return(null==q?void 0:q.isApp)&&C.update(e=>{e.useCustomConfig=!0}),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let q=(0,d.useMemo)(()=>(0,X.Z)(),[]),$=w&&!(null==q?void 0:q.isApp)&&(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.AccessCode.Title,subTitle:F.ZP.Settings.Access.AccessCode.SubTitle,children:(0,p.jsx)(M.WU,{value:C.accessCode,type:"text",placeholder:F.ZP.Settings.Access.AccessCode.Placeholder,onChange:e=>{C.update(t=>t.accessCode=e.currentTarget.value)}})}),ee=!(null==q?void 0:q.isApp)&&(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.CustomEndpoint.Title,subTitle:F.ZP.Settings.Access.CustomEndpoint.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.CustomEndpoint.Title,type:"checkbox",checked:C.useCustomConfig,onChange:e=>C.update(t=>t.useCustomConfig=e.currentTarget.checked)})}),en=C.provider===B.UT.OpenAI&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.OpenAI.Endpoint.Title,subTitle:F.ZP.Settings.Access.OpenAI.Endpoint.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.OpenAI.Endpoint.Title,type:"text",value:C.openaiUrl,placeholder:B.Bi,onChange:e=>C.update(t=>t.openaiUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.OpenAI.ApiKey.Title,subTitle:F.ZP.Settings.Access.OpenAI.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{aria:F.ZP.Settings.ShowPassword,"aria-label":F.ZP.Settings.Access.OpenAI.ApiKey.Title,value:C.openaiApiKey,type:"text",placeholder:F.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.openaiApiKey=e.currentTarget.value)}})})]}),es=C.provider===B.UT.Azure&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Azure.Endpoint.Title,subTitle:F.ZP.Settings.Access.Azure.Endpoint.SubTitle+B.kn.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Azure.Endpoint.Title,type:"text",value:C.azureUrl,placeholder:B.kn.ExampleEndpoint,onChange:e=>C.update(t=>t.azureUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Azure.ApiKey.Title,subTitle:F.ZP.Settings.Access.Azure.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Azure.ApiKey.Title,value:C.azureApiKey,type:"text",placeholder:F.ZP.Settings.Access.Azure.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.azureApiKey=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Azure.ApiVerion.Title,subTitle:F.ZP.Settings.Access.Azure.ApiVerion.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Azure.ApiVerion.Title,type:"text",value:C.azureApiVersion,placeholder:"2023-08-01-preview",onChange:e=>C.update(t=>t.azureApiVersion=e.currentTarget.value)})})]}),ea=C.provider===B.UT.Google&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Google.Endpoint.Title,subTitle:F.ZP.Settings.Access.Google.Endpoint.SubTitle+B.ie.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Google.Endpoint.Title,type:"text",value:C.googleUrl,placeholder:B.ie.ExampleEndpoint,onChange:e=>C.update(t=>t.googleUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Google.ApiKey.Title,subTitle:F.ZP.Settings.Access.Google.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Google.ApiKey.Title,value:C.googleApiKey,type:"text",placeholder:F.ZP.Settings.Access.Google.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.googleApiKey=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Google.ApiVersion.Title,subTitle:F.ZP.Settings.Access.Google.ApiVersion.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Google.ApiVersion.Title,type:"text",value:C.googleApiVersion,placeholder:"2023-08-01-preview",onChange:e=>C.update(t=>t.googleApiVersion=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Google.GoogleSafetySettings.Title,subTitle:F.ZP.Settings.Access.Google.GoogleSafetySettings.SubTitle,children:(0,p.jsx)(M.Ph,{"aria-label":F.ZP.Settings.Access.Google.GoogleSafetySettings.Title,value:C.googleSafetySettings,onChange:e=>{C.update(t=>t.googleSafetySettings=e.target.value)},children:Object.entries(B.hy).map(e=>{let[t,i]=e;return(0,p.jsx)("option",{value:i,children:t},t)})})})]}),er=C.provider===B.UT.Anthropic&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Anthropic.Endpoint.Title,subTitle:F.ZP.Settings.Access.Anthropic.Endpoint.SubTitle+B.YU.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Anthropic.Endpoint.Title,type:"text",value:C.anthropicUrl,placeholder:B.YU.ExampleEndpoint,onChange:e=>C.update(t=>t.anthropicUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Anthropic.ApiKey.Title,subTitle:F.ZP.Settings.Access.Anthropic.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Anthropic.ApiKey.Title,value:C.anthropicApiKey,type:"text",placeholder:F.ZP.Settings.Access.Anthropic.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.anthropicApiKey=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Anthropic.ApiVerion.Title,subTitle:F.ZP.Settings.Access.Anthropic.ApiVerion.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Anthropic.ApiVerion.Title,type:"text",value:C.anthropicApiVersion,placeholder:B.YU.Vision,onChange:e=>C.update(t=>t.anthropicApiVersion=e.currentTarget.value)})})]}),ec=C.provider===B.UT.Baidu&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Baidu.Endpoint.Title,subTitle:F.ZP.Settings.Access.Baidu.Endpoint.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Baidu.Endpoint.Title,type:"text",value:C.baiduUrl,placeholder:B.v3.ExampleEndpoint,onChange:e=>C.update(t=>t.baiduUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Baidu.ApiKey.Title,subTitle:F.ZP.Settings.Access.Baidu.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Baidu.ApiKey.Title,value:C.baiduApiKey,type:"text",placeholder:F.ZP.Settings.Access.Baidu.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.baiduApiKey=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Baidu.SecretKey.Title,subTitle:F.ZP.Settings.Access.Baidu.SecretKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Baidu.SecretKey.Title,value:C.baiduSecretKey,type:"text",placeholder:F.ZP.Settings.Access.Baidu.SecretKey.Placeholder,onChange:e=>{C.update(t=>t.baiduSecretKey=e.currentTarget.value)}})})]}),eo=C.provider===B.UT.Tencent&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Tencent.Endpoint.Title,subTitle:F.ZP.Settings.Access.Tencent.Endpoint.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Tencent.Endpoint.Title,type:"text",value:C.tencentUrl,placeholder:B.Er.ExampleEndpoint,onChange:e=>C.update(t=>t.tencentUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Tencent.ApiKey.Title,subTitle:F.ZP.Settings.Access.Tencent.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Tencent.ApiKey.Title,value:C.tencentSecretId,type:"text",placeholder:F.ZP.Settings.Access.Tencent.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.tencentSecretId=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Tencent.SecretKey.Title,subTitle:F.ZP.Settings.Access.Tencent.SecretKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Tencent.SecretKey.Title,value:C.tencentSecretKey,type:"text",placeholder:F.ZP.Settings.Access.Tencent.SecretKey.Placeholder,onChange:e=>{C.update(t=>t.tencentSecretKey=e.currentTarget.value)}})})]}),eu=C.provider===B.UT.ByteDance&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.ByteDance.Endpoint.Title,subTitle:F.ZP.Settings.Access.ByteDance.Endpoint.SubTitle+B.MU.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.ByteDance.Endpoint.Title,type:"text",value:C.bytedanceUrl,placeholder:B.MU.ExampleEndpoint,onChange:e=>C.update(t=>t.bytedanceUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.ByteDance.ApiKey.Title,subTitle:F.ZP.Settings.Access.ByteDance.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.ByteDance.ApiKey.Title,value:C.bytedanceApiKey,type:"text",placeholder:F.ZP.Settings.Access.ByteDance.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.bytedanceApiKey=e.currentTarget.value)}})})]}),ep=C.provider===B.UT.Alibaba&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Alibaba.Endpoint.Title,subTitle:F.ZP.Settings.Access.Alibaba.Endpoint.SubTitle+B.rk.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Alibaba.Endpoint.Title,type:"text",value:C.alibabaUrl,placeholder:B.rk.ExampleEndpoint,onChange:e=>C.update(t=>t.alibabaUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Alibaba.ApiKey.Title,subTitle:F.ZP.Settings.Access.Alibaba.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Alibaba.ApiKey.Title,value:C.alibabaApiKey,type:"text",placeholder:F.ZP.Settings.Access.Alibaba.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.alibabaApiKey=e.currentTarget.value)}})})]}),ed=C.provider===B.UT.Moonshot&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Moonshot.Endpoint.Title,subTitle:F.ZP.Settings.Access.Moonshot.Endpoint.SubTitle+B.ft.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Moonshot.Endpoint.Title,type:"text",value:C.moonshotUrl,placeholder:B.ft.ExampleEndpoint,onChange:e=>C.update(t=>t.moonshotUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Moonshot.ApiKey.Title,subTitle:F.ZP.Settings.Access.Moonshot.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Moonshot.ApiKey.Title,value:C.moonshotApiKey,type:"text",placeholder:F.ZP.Settings.Access.Moonshot.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.moonshotApiKey=e.currentTarget.value)}})})]}),eg=C.provider===B.UT.Stability&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Stability.Endpoint.Title,subTitle:F.ZP.Settings.Access.Stability.Endpoint.SubTitle+B.Xy.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Stability.Endpoint.Title,type:"text",value:C.stabilityUrl,placeholder:B.Xy.ExampleEndpoint,onChange:e=>C.update(t=>t.stabilityUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Stability.ApiKey.Title,subTitle:F.ZP.Settings.Access.Stability.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Stability.ApiKey.Title,value:C.stabilityApiKey,type:"text",placeholder:F.ZP.Settings.Access.Stability.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.stabilityApiKey=e.currentTarget.value)}})})]}),eh=C.provider===B.UT.Iflytek&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Iflytek.Endpoint.Title,subTitle:F.ZP.Settings.Access.Iflytek.Endpoint.SubTitle+B.LR.ExampleEndpoint,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.Iflytek.Endpoint.Title,type:"text",value:C.iflytekUrl,placeholder:B.LR.ExampleEndpoint,onChange:e=>C.update(t=>t.iflytekUrl=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Iflytek.ApiKey.Title,subTitle:F.ZP.Settings.Access.Iflytek.ApiKey.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Iflytek.ApiKey.Title,value:C.iflytekApiKey,type:"text",placeholder:F.ZP.Settings.Access.Iflytek.ApiKey.Placeholder,onChange:e=>{C.update(t=>t.iflytekApiKey=e.currentTarget.value)}})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Iflytek.ApiSecret.Title,subTitle:F.ZP.Settings.Access.Iflytek.ApiSecret.SubTitle,children:(0,p.jsx)(M.WU,{"aria-label":F.ZP.Settings.Access.Iflytek.ApiSecret.Title,value:C.iflytekApiSecret,type:"text",placeholder:F.ZP.Settings.Access.Iflytek.ApiSecret.Placeholder,onChange:e=>{C.update(t=>t.iflytekApiSecret=e.currentTarget.value)}})})]});return(0,p.jsxs)(W.S,{children:[(0,p.jsxs)("div",{className:"window-header","data-tauri-drag-region":!0,children:[(0,p.jsxs)("div",{className:"window-header-title",children:[(0,p.jsx)("div",{className:"window-header-main-title",children:F.ZP.Settings.Title}),(0,p.jsx)("div",{className:"window-header-sub-title",children:F.ZP.Settings.SubTitle})]}),(0,p.jsxs)("div",{className:"window-actions",children:[(0,p.jsx)("div",{className:"window-action-button"}),(0,p.jsx)("div",{className:"window-action-button"}),(0,p.jsx)("div",{className:"window-action-button",children:(0,p.jsx)(O.h,{aria:F.ZP.UI.Close,icon:(0,p.jsx)(m.Z,{}),onClick:()=>l(B.y$.Home),bordered:!0})})]})]}),(0,p.jsxs)("div",{className:h().settings,children:[(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Avatar,children:(0,p.jsx)(M.J2,{onClose:()=>r(!1),content:(0,p.jsx)(R.aR,{onEmojiClick:e=>{o(t=>t.avatar=e),r(!1)}}),open:a,children:(0,p.jsx)("div",{"aria-label":F.ZP.Settings.Avatar,tabIndex:0,className:h().avatar,onClick:()=>{r(!a)},children:(0,p.jsx)(R.qE,{avatar:c.avatar})})})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Update.Version(null!=T?T:"unknown"),subTitle:g?F.ZP.Settings.Update.IsChecking:v?F.ZP.Settings.Update.FoundUpdate(null!=y?y:"ERROR"):F.ZP.Settings.Update.IsLatest,children:g?(0,p.jsx)(b.Z,{}):v?(0,p.jsx)(V.default,{href:A,target:"_blank",className:"link",children:F.ZP.Settings.Update.GoToUpdate}):(0,p.jsx)(O.h,{icon:(0,p.jsx)(S.Z,{}),text:F.ZP.Settings.Update.CheckUpdate,onClick:()=>j(!0)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.SendKey,children:(0,p.jsx)(M.Ph,{"aria-label":F.ZP.Settings.SendKey,value:c.submitKey,onChange:e=>{o(t=>t.submitKey=e.target.value)},children:Object.values(I.mQ).map(e=>(0,p.jsx)("option",{value:e,children:e},e))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Theme,children:(0,p.jsx)(M.Ph,{"aria-label":F.ZP.Settings.Theme,value:c.theme,onChange:e=>{o(t=>t.theme=e.target.value)},children:Object.values(I.Q2).map(e=>(0,p.jsx)("option",{value:e,children:e},e))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Lang.Name,children:(0,p.jsx)(M.Ph,{"aria-label":F.ZP.Settings.Lang.Name,value:(0,F.VQ)(),onChange:e=>{(0,F.t4)(e.target.value)},children:F.DC.map(e=>(0,p.jsx)("option",{value:e,children:F.nW[e]},e))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.FontSize.Title,subTitle:F.ZP.Settings.FontSize.SubTitle,children:(0,p.jsx)(G.O,{aria:F.ZP.Settings.FontSize.Title,title:"".concat(null!==(i=c.fontSize)&&void 0!==i?i:14,"px"),value:c.fontSize,min:"12",max:"40",step:"1",onChange:e=>o(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.FontFamily.Title,subTitle:F.ZP.Settings.FontFamily.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.FontFamily.Title,type:"text",value:c.fontFamily,placeholder:F.ZP.Settings.FontFamily.Placeholder,onChange:e=>o(t=>t.fontFamily=e.currentTarget.value)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.AutoGenerateTitle.Title,subTitle:F.ZP.Settings.AutoGenerateTitle.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.AutoGenerateTitle.Title,type:"checkbox",checked:c.enableAutoGenerateTitle,onChange:e=>o(t=>t.enableAutoGenerateTitle=e.currentTarget.checked)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.SendPreviewBubble.Title,subTitle:F.ZP.Settings.SendPreviewBubble.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.SendPreviewBubble.Title,type:"checkbox",checked:c.sendPreviewBubble,onChange:e=>o(t=>t.sendPreviewBubble=e.currentTarget.checked)})}),(0,p.jsx)(M.HC,{title:F.ZP.Mask.Config.Artifacts.Title,subTitle:F.ZP.Mask.Config.Artifacts.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Mask.Config.Artifacts.Title,type:"checkbox",checked:c.enableArtifacts,onChange:e=>o(t=>t.enableArtifacts=e.currentTarget.checked)})})]}),(0,p.jsx)(el,{}),(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Mask.Splash.Title,subTitle:F.ZP.Settings.Mask.Splash.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Mask.Splash.Title,type:"checkbox",checked:!c.dontShowMaskSplashScreen,onChange:e=>o(t=>t.dontShowMaskSplashScreen=!e.currentTarget.checked)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Mask.Builtin.Title,subTitle:F.ZP.Settings.Mask.Builtin.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Mask.Builtin.Title,type:"checkbox",checked:c.hideBuiltinMasks,onChange:e=>o(t=>t.hideBuiltinMasks=e.currentTarget.checked)})})]}),(0,p.jsxs)(M.aV,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Prompt.Disable.Title,subTitle:F.ZP.Settings.Prompt.Disable.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Prompt.Disable.Title,type:"checkbox",checked:c.disablePromptHint,onChange:e=>o(t=>t.disablePromptHint=e.currentTarget.checked)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Prompt.List,subTitle:F.ZP.Settings.Prompt.ListCount(H,K),children:(0,p.jsx)(O.h,{aria:F.ZP.Settings.Prompt.List+F.ZP.Settings.Prompt.Edit,icon:(0,p.jsx)(P.Z,{}),text:F.ZP.Settings.Prompt.Edit,onClick:()=>Q(!0)})})]}),(0,p.jsxs)(M.aV,{id:B.ym.CustomModel,children:[$,!C.hideUserApiKey&&(0,p.jsxs)(p.Fragment,{children:[ee,C.useCustomConfig&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.Provider.Title,subTitle:F.ZP.Settings.Access.Provider.SubTitle,children:(0,p.jsx)(M.Ph,{"aria-label":F.ZP.Settings.Access.Provider.Title,value:C.provider,onChange:e=>{C.update(t=>t.provider=e.target.value)},children:Object.entries(B.UT).map(e=>{let[t,i]=e;return(0,p.jsx)("option",{value:i,children:t},t)})})}),en,es,ea,er,ec,eu,ep,eo,ed,eg,eh]})]}),Z||(null==q?void 0:q.isApp)?null:(0,p.jsx)(M.HC,{title:F.ZP.Settings.Usage.Title,subTitle:Y?k?F.ZP.Settings.Usage.IsChecking:F.ZP.Settings.Usage.SubTitle(null!==(n=null==f?void 0:f.used)&&void 0!==n?n:"[?]",null!==(s=null==f?void 0:f.subscription)&&void 0!==s?s:"[?]"):F.ZP.Settings.Usage.NoAccess,children:!Y||k?(0,p.jsx)("div",{}):(0,p.jsx)(O.h,{icon:(0,p.jsx)(S.Z,{}),text:F.ZP.Settings.Usage.Check,onClick:()=>_(!0)})}),(0,p.jsx)(M.HC,{title:F.ZP.Settings.Access.CustomModel.Title,subTitle:F.ZP.Settings.Access.CustomModel.SubTitle,children:(0,p.jsx)("input",{"aria-label":F.ZP.Settings.Access.CustomModel.Title,type:"text",value:c.customModels,placeholder:"model1,model2,model3",onChange:e=>c.update(t=>t.customModels=e.currentTarget.value)})})]}),(0,p.jsx)(M.aV,{children:(0,p.jsx)(z.j,{modelConfig:c.modelConfig,updateConfig:e=>{let t={...c.modelConfig};e(t),c.update(e=>e.modelConfig=t)}})}),N&&(0,p.jsx)(et,{onClose:()=>Q(!1)}),(0,p.jsx)(M.aV,{children:(0,p.jsx)(J,{ttsConfig:c.ttsConfig,updateConfig:e=>{let t={...c.ttsConfig};e(t),c.update(e=>e.ttsConfig=t)}})}),(0,p.jsx)(ei,{})]})]})}},15535:function(e){e.exports={settings:"settings_settings__427bK",avatar:"settings_avatar__jO3Wv","edit-prompt-modal":"settings_edit-prompt-modal__iP1gi","edit-prompt-title":"settings_edit-prompt-title__mq8os","edit-prompt-content":"settings_edit-prompt-content__9i9Y_","user-prompt-modal":"settings_user-prompt-modal__YWssH","user-prompt-search":"settings_user-prompt-search__kskD_","user-prompt-list":"settings_user-prompt-list__BrWRy","user-prompt-item":"settings_user-prompt-item__kh_6Q","user-prompt-header":"settings_user-prompt-header__MBMAf","user-prompt-title":"settings_user-prompt-title__BpRs1","user-prompt-content":"settings_user-prompt-content__CxL3R","user-prompt-buttons":"settings_user-prompt-buttons__y5Hf_","user-prompt-button":"settings_user-prompt-button__efhSx"}}}]);