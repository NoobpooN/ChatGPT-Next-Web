(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6311],{24333:function(e,t,n){"use strict";var s,a,r=n(52846);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"clear_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#clear_svg__a"}))),r.createElement("g",{mask:"url(#clear_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 9.67h8.67l1-9.67H0l1 9.67Z",transform:"translate(2.667 5)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(6.667 8.334)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(9.334 8.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 4 5.44-4L8 4",transform:"translate(4 1)"}))))}},49111:function(e,t,n){"use strict";var s,a,r=n(52846);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"#fff"},e),s||(s=r.createElement("rect",{width:"100%",height:"100%",fill:"none"})),a||(a=r.createElement("g",{className:"loading_svg__currentLayer"},r.createElement("circle",{cx:4,cy:8,r:1.926,fill:"#333"},r.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:2,repeatCount:"indefinite",to:2,values:"2;1.2;2"}),r.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.5;1"})),r.createElement("circle",{cx:8,cy:8,r:1.274,fill:"#333",fillOpacity:.3},r.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:1.2,repeatCount:"indefinite",to:1.2,values:"1.2;2;1.2"}),r.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:.5,repeatCount:"indefinite",to:.5,values:".5;1;.5"})),r.createElement("circle",{cx:12,cy:8,r:1.926,fill:"#333"},r.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:2,repeatCount:"indefinite",to:2,values:"2;1.2;2"}),r.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.5;1"})))))}},76058:function(e,t,n){"use strict";var s,a,r=n(52846);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"prompt_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"prompt_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#prompt_svg__a"}))),r.createElement("g",{mask:"url(#prompt_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3,strokeOpacity:1,strokeDasharray:"0 0"},d:"m1.367 1.367 1.41 1.41M4.667 0v2m0 0V0m3.295 1.367-1.41 1.41m0 0 1.41-1.41m1.371 3.3h-2m0 0h2m-1.37 3.295-1.41-1.41m0 0 1.41 1.41M4.666 9.333v-2m0 0v2m-3.3-1.37 1.41-1.41m0 0-1.41 1.41M0 4.666h2m0 0H0",transform:"translate(5.333 1.333)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M8.01 0 0 8.01",transform:"translate(1.848 6.138)"}))))}},76908:function(e,t,n){"use strict";var s,a,r=n(52846);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"return_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"return_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#return_svg__a"}))),r.createElement("g",{mask:"url(#return_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M2.33 0 0 2l2.33 2.33",transform:"translate(2 2.667)"}),r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0h7.66c2.3 0 4.25 1.87 4.34 4.17.09 2.42-1.91 4.5-4.34 4.5H2",transform:"translate(2 4.667)"}))))}},12637:function(e,t,n){"use strict";var s,a,r=n(52846);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=r.createElement("defs",null,r.createElement("path",{id:"share_svg__a",d:"M0 0h16v16H0z"}))),r.createElement("g",null,a||(a=r.createElement("mask",{id:"share_svg__b",fill:"#fff"},r.createElement("use",{xlinkHref:"#share_svg__a"}))),r.createElement("g",{mask:"url(#share_svg__b)"},r.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M6.67 3.67C1.67 3.67 0 7.33 0 13c0 0 2-5 6.67-5v3.67l6-5.67-6-6v3.67Z",transform:"translate(2 1.333)"}))))}},32360:function(e,t,n){"use strict";n.d(t,{UK:function(){return o},YZ:function(){return l},x6:function(){return i}});var s=n(2265),a=n(90261),r=n(13894);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,a.lr)();(0,s.useEffect)(()=>{let s=!1;t.forEach((n,a)=>{"function"==typeof e[a]&&(e[a](n),t.delete(a),s=!0)}),s&&n(t)},[t,e])}let i=/^[:ï¼š]/;function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(e){return e.match(i)?e.slice(1):e}return{match:function(n){let s=t(n),a="function"==typeof e[s];return{matched:a,invoke:()=>a&&e[s](n)}},search:function(n){let s=t(n),a=r.ZP.Chat.Commands;return Object.keys(e).filter(e=>e.startsWith(s)).map(e=>({title:a[e],content:":"+e}))}}}},66311:function(e,t,n){"use strict";let s,a;n.r(t),n.d(t,{Chat:function(){return tq},ChatAction:function(){return tU},ChatActions:function(){return tV},DeleteImageButton:function(){return tG},EditMessageModal:function(){return tX},PromptHints:function(){return tB},SessionConfigModel:function(){return tF},ShortcutKeyModal:function(){return tY}});var r,l,i,o,c,d,m,h,u,p,g,f,v,x,_,w,y,k,j,C,E,b,S,M,O,N,P,Z,T,A,I,L,H,D,K,z,F,R,B,W,U,V,X,G,Y,Q,q=n(57437),J=n(38648),$=n(2265),ee=n(52846);function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var en=function(e){return ee.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),c||(c=ee.createElement("defs",null,ee.createElement("path",{id:"send-white_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,d||(d=ee.createElement("mask",{id:"send-white_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#send-white_svg__a"}))),ee.createElement("g",{mask:"url(#send-white_svg__b)"},ee.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 4.71 6.67 6l1.67 6.67L12.67 0 0 4.71Z",transform:"translate(1.333 2)"}),ee.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 1.89 1.89 0",transform:"translate(8.003 6.117)"}))))};function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var ea=function(e){return ee.createElement("svg",es({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),m||(m=ee.createElement("defs",null,ee.createElement("path",{id:"brain_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,h||(h=ee.createElement("mask",{id:"brain_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#brain_svg__a"}))),ee.createElement("g",{mask:"url(#brain_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M5.01 13.33c-.32-1.06-.82-1.86-1.48-2.38-.98-.78-2.56-.3-3.14-1.11-.58-.8.41-2.29.76-3.17.34-.88-1.33-1.19-1.13-1.44.13-.16.97-.64 2.53-1.44C3 1.26 4.63 0 7.47 0c4.24 0 5.86 3.6 5.86 5.89 0 2.29-1.96 4.76-4.75 5.29-.25.37.11 1.08 1.08 2.15",transform:"translate(1.333 1.333)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M2.1 3.33c-.19 1.09.04 1.6.69 1.53.65-.07 1.05-.34 1.18-.81 1.02.28 1.57.04 1.66-.72.12-1.15-.5-2.07-.75-2.07s-.91-.03-.91-.38C3.97.52 3.2.33 2.5.33c-.69 0-.27-.47-1.23-.29C.64.17.26.44.13.88c-.22.84-.16 1.43.19 1.78.35.34.94.56 1.78.67Z",transform:"translate(6.374 3.957)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1.97 0c-.34.21-.8.56-1 .83-.49.69-.88 1.1-.97 1.54",transform:"translate(8.193 8.5)"}))))};function er(){return(er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var el=function(e){return ee.createElement("svg",er({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),u||(u=ee.createElement("defs",null,ee.createElement("path",{id:"rename_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,p||(p=ee.createElement("mask",{id:"rename_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#rename_svg__a"}))),ee.createElement("g",{mask:"url(#rename_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M2.83 13.2 13.2 2.83 10.37 0 0 10.37v2.83h2.83Z",transform:"translate(1.775 1.3)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 0 2.83 2.83",transform:"translate(9.317 4.13)"}))))},ei=n(12637),eo=n(76908),ec=n(84193);function ed(){return(ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var em=function(e){return ee.createElement("svg",ed({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"speak_svg__w-4 speak_svg__h-4"},e),g||(g=ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25h2.24z"})))};function eh(){return(eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eu=function(e){return ee.createElement("svg",eh({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:16,height:16,viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"speak-stop_svg__w-4 speak-stop_svg__h-4"},e),f||(f=ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25h2.24Z"})))},ep=n(24053),eg=n(49111),ef=n(76058),ev=n(22774),ex=n(14845),e_=n(68397),ew=n(98829);function ey(){return(ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var ek=function(e){return ee.createElement("svg",ey({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.275-.275c.261.26.392.576.392.945v10.66c0 .37-.131.684-.392.945a1.288 1.288 0 0 1-.945.392H1.67c-.37 0-.684-.13-.945-.392a1.288 1.288 0 0 1-.392-.945V.67c0-.37.13-.684.392-.945.26-.261.576-.392.945-.392h10.66c.369 0 .684.13.945.392zM1.667 11.33c0 .002 0 .003.003.003h10.66c.002 0 .003 0 .003-.003V.67c0-.002 0-.003-.003-.003H1.67c-.002 0-.003 0-.003.003z",transform:"translate(1 2)"}),ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.763 7.507a.666.666 0 0 1-.867 0L7 5.878 5.104 7.506a.665.665 0 0 1-.867.001L2.331 5.878.434 7.506a.66.66 0 0 1-.485.16.66.66 0 0 1-.53-.338.665.665 0 0 1 .147-.834l2.33-2a.666.666 0 0 1 .867 0L4.67 6.123l1.897-1.629a.666.666 0 0 1 .868 0l1.897 1.629 1.906-1.63a.668.668 0 0 1 .867.002l2.33 2a.66.66 0 0 1 .23.455.661.661 0 0 1-.252.575.666.666 0 0 1-.846-.019l-1.897-1.628z",transform:"translate(1 2)"}),v||(v=ee.createElement("defs",null,ee.createElement("path",{id:"break_svg__a",d:"M0 0h16v16H0z"}))))};function ej(){return(ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eC=function(e){return ee.createElement("svg",ej({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),ee.createElement("g",null,x||(x=ee.createElement("mask",{id:"chat-settings_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#chat-settings_svg__a"}))),ee.createElement("g",{mask:"url(#chat-settings_svg__b)"},ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M6.728 14.598a.665.665 0 0 1-.828.434 7.294 7.294 0 0 1-3.187-1.945.666.666 0 0 1-.026-.896c.207-.241.31-.527.31-.857 0-.37-.13-.685-.389-.944A1.286 1.286 0 0 0 1.663 10h-.08a.662.662 0 0 1-.665-.288.665.665 0 0 1-.098-.235 7.234 7.234 0 0 1 .188-3.675.662.662 0 0 1 .635-.465h.02c.37 0 .684-.13.944-.392.26-.26.39-.574.39-.942 0-.215-.045-.415-.134-.6a.666.666 0 0 1 .148-.78A7.292 7.292 0 0 1 6.034.932a.666.666 0 0 1 .774.34c.11.219.272.394.483.524.216.135.454.202.712.202.254 0 .488-.067.703-.201.211-.131.372-.306.483-.524a.666.666 0 0 1 .773-.34 7.404 7.404 0 0 1 3.03 1.688.664.664 0 0 1 .143.8c-.09.174-.135.368-.135.583 0 .366.13.68.392.941.262.262.575.393.941.393h.03a.664.664 0 0 1 .636.465c.22.695.331 1.43.331 2.201a7.34 7.34 0 0 1-.143 1.474.66.66 0 0 1-.27.411.666.666 0 0 1-.478.115 1 1 0 0 0-.106-.003c-.367 0-.681.13-.941.39-.261.26-.392.574-.392.943 0 .322.106.61.317.865a.662.662 0 0 1 .1.686.671.671 0 0 1-.133.202 7.294 7.294 0 0 1-3.187 1.945.674.674 0 0 1-.503-.047.659.659 0 0 1-.325-.387 1.311 1.311 0 0 0-.477-.667 1.288 1.288 0 0 0-.789-.26c-.297 0-.564.087-.798.26-.23.17-.389.393-.477.667zm3.52-1.032c.626-.253 1.191-.6 1.696-1.042a2.603 2.603 0 0 1-.277-1.19 2.642 2.642 0 0 1 .784-1.888 2.646 2.646 0 0 1 1.51-.753 6.393 6.393 0 0 0-.118-2.067 2.655 2.655 0 0 1-1.394-.738 2.656 2.656 0 0 1-.782-1.884c0-.239.029-.468.087-.687a6.05 6.05 0 0 0-1.693-.954c-.182.22-.398.41-.65.566-.431.268-.9.402-1.408.402-.511 0-.983-.134-1.414-.401a2.632 2.632 0 0 1-.653-.567 5.936 5.936 0 0 0-1.69.957 2.74 2.74 0 0 1-.125 1.72c-.134.319-.324.601-.57.847a2.641 2.641 0 0 1-1.389.738 5.903 5.903 0 0 0-.12 2.069 2.642 2.642 0 0 1 1.509.753 2.654 2.654 0 0 1 .779 1.888c0 .433-.091.831-.274 1.192.504.44 1.068.787 1.692 1.04.172-.272.393-.507.664-.707.47-.348 1-.522 1.591-.522.587 0 1.115.174 1.584.523.27.2.49.435.661.705z"}),ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M10.122 10.122a2.987 2.987 0 0 1-2.125.881 2.969 2.969 0 0 1-2.122-.883 2.983 2.983 0 0 1-.64-.955A2.984 2.984 0 0 1 5 7.997a2.974 2.974 0 0 1 .876-2.12A2.974 2.974 0 0 1 7.996 5c.407 0 .797.078 1.169.235.36.151.678.364.955.64a2.969 2.969 0 0 1 .883 2.122 2.987 2.987 0 0 1-.881 2.125zM7.997 6.333c-.461 0-.854.162-1.178.486a1.603 1.603 0 0 0-.486 1.178c0 .462.163.857.488 1.183.324.327.716.49 1.176.49.46 0 .855-.164 1.182-.491.327-.327.491-.721.491-1.182 0-.46-.163-.852-.49-1.176a1.618 1.618 0 0 0-1.183-.488z"}))),_||(_=ee.createElement("defs",null,ee.createElement("path",{id:"chat-settings_svg__a",d:"M0 0h16v16H0z"}))))},eE=n(24333);function eb(){return(eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eS=function(e){return ee.createElement("svg",eb({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),ee.createElement("g",null,w||(w=ee.createElement("mask",{id:"pin_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#pin_svg__a"}))),ee.createElement("g",{mask:"url(#pin_svg__b)"},ee.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.685 8.81-4 5.44-.537-.394-.397-.536 5.42-4.01a.666.666 0 0 1 .866.062l.532.528 2.07 2.063-.471.473-.472-.472c.3-.3.457-.62.472-.963.015-.353-.108-.798-.37-1.333a.665.665 0 0 1 .017-.616l2.36-4.25a.662.662 0 0 1 .679-.336l1.65.24-.096.66-.472.471-3.77-3.77.472-.471.66-.096.24 1.65a.664.664 0 0 1-.337.678l-4.25 2.36a.665.665 0 0 1-.646.001c-.479-.265-.903-.388-1.27-.369-.358.018-.69.18-.996.487l-.471-.471.471-.472 2.06 2.06.52.52a.665.665 0 0 1 .066.867zM5.61 8.02l.537.396-.472.471-.52-.52-2.06-2.06a.665.665 0 0 1 0-.943c.548-.548 1.172-.84 1.87-.875.622-.032 1.283.146 1.984.533l-.322.584-.324-.583 4.25-2.36.324.583-.66.096-.24-1.65a.664.664 0 0 1 .66-.763.665.665 0 0 1 .471.195l3.77 3.77a.666.666 0 0 1-.567 1.131l-1.65-.24.096-.66.583.324-2.36 4.25-.583-.323.599-.293c.36.738.527 1.396.503 1.974-.029.689-.316 1.305-.86 1.85a.664.664 0 0 1-.842.083.667.667 0 0 1-.101-.082l-2.068-2.062-.531-.527.47-.473.396.535-5.42 4.01a.663.663 0 0 1-.791.002.664.664 0 0 1-.142-.932z"}))),y||(y=ee.createElement("defs",null,ee.createElement("path",{id:"pin_svg__a",d:"M0 0h16v16H0z"}))))},eM=n(12402),eO=n(38669),eN=n(82985);function eP(){return(eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eZ=function(e){return ee.createElement("svg",eP({xmlns:"http://www.w3.org/2000/svg",fill:"none",height:16,width:16,xmlSpace:"preserve"},e),k||(k=ee.createElement("rect",{width:"100%",height:"100%"})),j||(j=ee.createElement("g",{className:"image_svg__currentLayer"},ee.createElement("g",{fill:"#333"},ee.createElement("path",{d:"M2.47 2.47h1.977v-.782H1.688v2.76h.781zM11.553 1.688v.781h1.978v1.978h.78V1.688zM13.53 13.53h-1.977v.782h2.759v-2.76h-.781zM2.47 11.553h-.782v2.759h2.76v-.781H2.468zM8.83 6.243c.682 0 1.237-.555 1.237-1.236S9.512 3.77 8.83 3.77a1.238 1.238 0 0 0 0 2.473zM3.77 12.23h8.46V9.71l-1.527-1.611-1.85 1.077-2.578-1.842L3.77 9.977z"})))))};function eT(){return(eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eA=function(e){return ee.createElement("svg",eT({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),C||(C=ee.createElement("defs",null,ee.createElement("path",{id:"light_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,E||(E=ee.createElement("mask",{id:"light_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#light_svg__a"}))),ee.createElement("g",{mask:"url(#light_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M8.67 4.33C8.67 1.94 6.73 0 4.33 0 1.94 0 0 1.94 0 4.33a4.334 4.334 0 1 0 8.67 0Z",transform:"translate(3.667 3.667)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(7.167 .333)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(12 2.333)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(14 7.167)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(12 12)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(7.167 14)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(2.333 12)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(.333 7.167)"}),ee.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z",transform:"translate(2.333 2.333)"}))))};function eI(){return(eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eL=function(e){return ee.createElement("svg",eI({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),b||(b=ee.createElement("defs",null,ee.createElement("path",{id:"dark_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,S||(S=ee.createElement("mask",{id:"dark_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#dark_svg__a"}))),ee.createElement("g",{mask:"url(#dark_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66 0-.47-.04-.92-.13-1.35a4.251 4.251 0 0 1-4.11 3.16c-2.34 0-4.24-1.89-4.24-4.24 0-1.97 1.34-3.63 3.17-4.1C7.58.05 7.13 0 6.67 0Z",transform:"translate(1.333 1.333)"}))))};function eH(){return(eH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eD=function(e){return ee.createElement("svg",eH({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),M||(M=ee.createElement("defs",null,ee.createElement("path",{id:"auto_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,O||(O=ee.createElement("mask",{id:"auto_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#auto_svg__a"}))),ee.createElement("g",{mask:"url(#auto_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 5.337.73-1.67m3.938 1.67-.73-1.67M.728 3.67 2.33 0l1.61 3.67M.73 3.667h3.21",transform:"translate(5.667 5.333)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M13.07 5.33A6.672 6.672 0 0 0 0 5.33l2-.66",transform:"translate(1.333 1.333)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0a6.672 6.672 0 0 0 13.07 0l-1.74.67",transform:"translate(1.333 9.333)"}))))};function eK(){return(eK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var ez=function(e){return ee.createElement("svg",eK({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),N||(N=ee.createElement("defs",null,ee.createElement("path",{id:"bottom_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,P||(P=ee.createElement("mask",{id:"bottom_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#bottom_svg__a"}))),ee.createElement("g",{mask:"url(#bottom_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M8 0 4 4 0 0",transform:"translate(4 4)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M8 0 4 4 0 0",transform:"translate(4 8)"}))))};function eF(){return(eF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eR=function(e){return ee.createElement("svg",eF({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),Z||(Z=ee.createElement("defs",null,ee.createElement("path",{id:"pause_svg__a",d:"M0 0h16v16H0z"}))),ee.createElement("g",null,T||(T=ee.createElement("mask",{id:"pause_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#pause_svg__a"}))),ee.createElement("g",{mask:"url(#pause_svg__b)"},ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M13.33 6.67A6.66 6.66 0 0 0 6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66Z",transform:"translate(1.333 1.333)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v4",transform:"translate(6.333 6)"}),ee.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v4",transform:"translate(9.667 6)"}))))};function eB(){return(eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eW=function(e){return ee.createElement("svg",eB({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),ee.createElement("g",null,A||(A=ee.createElement("mask",{id:"robot_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#robot_svg__a"}))),ee.createElement("g",{mask:"url(#robot_svg__b)"},ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M3.67 13.67h8.66c.002 0 .003-.001.003-.003V6.334H3.67c-.002 0-.003 0-.003.003v7.33c0 .002 0 .003.003.003zm0 1.333c-.37 0-.684-.13-.945-.391a1.288 1.288 0 0 1-.392-.945v-7.33c0-.37.13-.685.392-.946.26-.26.576-.391.945-.391h8.66c.37 0 .684.13.945.391.261.261.392.577.392.946v7.33c0 .369-.13.684-.392.945a1.288 1.288 0 0 1-.945.391z"}),ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.819 6.127a.666.666 0 0 1-1.05-.81l1.67-2.67a.665.665 0 0 1 1.107-.034.663.663 0 0 1 .023.74l-1.67 2.67a.665.665 0 0 1-.08.104zM7.293 5.434a.665.665 0 0 1-1.01.779.665.665 0 0 1-.178-.19l-1.67-2.67a.665.665 0 0 1 .952-.896.665.665 0 0 1 .178.19l1.67 2.67a.665.665 0 0 1 .058.117z"}),ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M11.337 2.333c-.003 0-.004.001-.004.004l-.001-.01a.007.007 0 0 0 .005.003h-.007v.007c0-.002 0-.004-.002-.005l.009.001zm0-1.333c.366 0 .679.131.939.394.258.261.387.575.387.943 0 .364-.13.676-.39.936s-.572.39-.936.39c-.368 0-.682-.129-.943-.388A1.273 1.273 0 0 1 10 2.337c0-.37.13-.685.391-.946.262-.26.577-.391.946-.391zM4.67 2.333c-.002 0-.003.001-.003.004 0-.005 0-.008-.002-.01a.007.007 0 0 0 .005.003h-.006v.007c0-.002-.001-.004-.003-.005l.009.001zM4.67 1c.366 0 .679.131.939.394.258.261.388.575.388.943 0 .364-.13.676-.39.936s-.573.39-.937.39c-.367 0-.681-.129-.943-.388a1.273 1.273 0 0 1-.394-.938c0-.37.13-.685.392-.946.26-.26.576-.391.945-.391zM6.663 10.003h2.67c.184 0 .34-.065.469-.194a.655.655 0 0 0 .195-.479.638.638 0 0 0-.196-.467.638.638 0 0 0-.468-.196h-2.67a.638.638 0 0 0-.467.196A.638.638 0 0 0 6 9.33c0 .188.065.347.195.479.128.13.284.194.468.194zm0 1.334a1.974 1.974 0 0 1-1.416-.59 2.001 2.001 0 0 1 1.416-3.413h2.67a1.99 1.99 0 0 1 1.41.587 1.99 1.99 0 0 1 .587 1.409 2.002 2.002 0 0 1-1.997 2.007zM2 10.663h1.003a.666.666 0 1 1 0 1.334h-1.67a.666.666 0 0 1-.666-.667V8a.665.665 0 0 1 .666-.667h1.67a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.297H2zM14.8 7.346a.664.664 0 0 1 .537.654v3.33a.666.666 0 0 1-.667.667H13a.666.666 0 1 1 0-1.334h1.003V8.667H13a.665.665 0 0 1-.471-1.138.664.664 0 0 1 .471-.196h1.67c.044 0 .087.005.13.013z"}))),I||(I=ee.createElement("defs",null,ee.createElement("path",{id:"robot_svg__a",d:"M0 0h16v16H0z"}))))};function eU(){return(eU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eV=function(e){return ee.createElement("svg",eU({width:16,height:16,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L||(L=ee.createElement("path",{d:"M42 7H6a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h36a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z",stroke:"#333",strokeWidth:4})),H||(H=ee.createElement("path",{d:"M30 30V18l8 12V18M10 30V18l8 12V18",stroke:"#333",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})),D||(D=ee.createElement("path",{d:"M24 20v1M24 27v1",stroke:"#333",strokeWidth:4,strokeLinecap:"round"})))};function eX(){return(eX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eG=function(e){return ee.createElement("svg",eX({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"#333",className:"hd_svg__bi hd_svg__bi-badge-hd"},e),K||(K=ee.createElement("path",{d:"M7.396 11V5.001H6.209v2.44H3.687V5H2.5v6h1.187V8.43h2.522V11zM8.5 5.001V11h2.188c1.811 0 2.685-1.107 2.685-3.015 0-1.894-.86-2.984-2.684-2.984zm1.187.967h.843c1.112 0 1.622.686 1.622 2.04 0 1.353-.505 2.02-1.622 2.02h-.843z"})),z||(z=ee.createElement("path",{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"})))};function eY(){return(eY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eQ=function(e){return ee.createElement("svg",eY({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"#333",className:"palette_svg__bi palette_svg__bi-palette"},e),F||(F=ee.createElement("path",{d:"M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"})),R||(R=ee.createElement("path",{d:"M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8m-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7"})))};function eq(){return(eq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eJ=function(e){return ee.createElement("svg",eq({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),ee.createElement("g",null,B||(B=ee.createElement("mask",{id:"plugin_svg__b",fill:"#fff"},ee.createElement("use",{xlinkHref:"#plugin_svg__a"}))),ee.createElement("g",{mask:"url(#plugin_svg__b)"},ee.createElement("path",{style:{fill:"#333",opacity:1},d:"M6.945 1.725c.261.26.392.576.392.945V6c0 .37-.13.684-.392.945A1.288 1.288 0 0 1 6 7.337H2.67c-.37 0-.684-.13-.945-.392A1.288 1.288 0 0 1 1.333 6V2.67c0-.37.13-.684.392-.945.26-.261.576-.392.945-.392H6c.37 0 .684.13.945.392zM2.667 6c0 .002 0 .003.003.003H6c.002 0 .003 0 .003-.003V2.67c0-.002 0-.003-.003-.003H2.67c-.002 0-.003 0-.003.003zM6.945 9.058c.261.261.392.576.392.945v3.33c0 .37-.13.685-.392.946A1.288 1.288 0 0 1 6 14.67H2.67c-.37 0-.684-.13-.945-.391a1.288 1.288 0 0 1-.392-.946v-3.33c0-.369.13-.684.392-.945.26-.26.576-.391.945-.391H6c.37 0 .684.13.945.391zm-4.278 4.275c0 .003 0 .004.003.004H6c.002 0 .003-.001.003-.004v-3.33c0-.002 0-.003-.003-.003H2.67c-.002 0-.003.001-.003.003zM13.789 6.455a2.987 2.987 0 0 1-2.126.882c-.407 0-.797-.08-1.169-.238a2.97 2.97 0 0 1-.952-.645 2.983 2.983 0 0 1-.64-.956 2.984 2.984 0 0 1-.235-1.168 2.974 2.974 0 0 1 .876-2.12 2.973 2.973 0 0 1 2.12-.877c.407 0 .796.079 1.169.235.36.151.678.365.955.64a2.97 2.97 0 0 1 .883 2.122 2.988 2.988 0 0 1-.882 2.125zm-2.126-3.788c-.46 0-.853.162-1.177.486A1.603 1.603 0 0 0 10 4.33c0 .462.162.857.487 1.184.325.326.717.49 1.176.49.461 0 .855-.164 1.183-.492.327-.327.49-.721.49-1.182 0-.46-.163-.851-.489-1.176a1.618 1.618 0 0 0-1.184-.487zM14.278 9.058c.261.261.392.576.392.945v3.33c0 .37-.13.685-.392.946a1.288 1.288 0 0 1-.945.391h-3.33c-.369 0-.684-.13-.945-.391a1.288 1.288 0 0 1-.391-.946v-3.33c0-.369.13-.684.391-.945.261-.26.576-.391.945-.391h3.33c.37 0 .684.13.945.391zM10 13.333c0 .003.001.004.003.004h3.33c.003 0 .004-.001.004-.004v-3.33c0-.002-.001-.003-.004-.003h-3.33c-.002 0-.003.001-.003.003z"}))),W||(W=ee.createElement("defs",null,ee.createElement("path",{id:"plugin_svg__a",d:"M0 0h16v16H0z"}))))};function e$(){return(e$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var e0=function(e){return ee.createElement("svg",e$({width:16,height:16,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),U||(U=ee.createElement("path",{d:"M42 7H6a2 2 0 0 0-2 2v28a2 2 0 0 0 2 2h36a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z",stroke:"#000",strokeWidth:3,strokeLinejoin:"round"})),V||(V=ee.createElement("path",{d:"M12 19h2M21 19h2M29 19h7M12 28h24",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})))},e3=n(44922),e1=n(92944),e6=n(26757),e2=n(24232),e4=n(90684),e7=n(89570),e8=n(13894),e9=n(35499),e5=n(3109),te=n.n(e5),tt=n(65878),tn=n(59208),ts=n(75591),ta=n(770),tr=n(83921),tl=n(61643),ti=n(32360),to=n(58669),tc=n(79296),td=n.n(tc),tm=n(25640),th={src:"/_next/static/media/bot.0c800005.png"},tu=n(72495),tp=n(88809),tg=n.n(tp);function tf(e){let t=(0,e3.aK)().currentSession(),n=e=>e.content&&!e.isError&&!e.streaming,s=(0,$.useMemo)(()=>{var e;let n=Math.max(0,null!==(e=t.clearContextIndex)&&void 0!==e?e:0);return n===t.messages.length-1&&(n=0),t.messages.slice(n)},[t.messages,t.clearContextIndex]),a=(0,$.useMemo)(()=>s.filter((e,t)=>e.id&&n(e)&&(t>=s.length-1||n(s[t+1]))),[s]),r=a.length,l=(0,e3.MG)(),[i,o]=(0,$.useState)(""),[c,d]=(0,$.useState)(new Set),m=e=>0===i.length||c.has(e),h=e=>{let t=new Set;e.length>0&&a.forEach(n=>(0,e1.YK)(n).includes(e)?t.add(n.id):null),d(t)},{startIndex:u,endIndex:p,onClickIndex:g}=function(){let[e,t]=(0,$.useState)(),[n,s]=(0,$.useState)(),[a,r]=(0,$.useState)(!1);return(0,$.useEffect)(()=>{let e=e=>{"Shift"===e.key&&r(!0)},n=e=>{"Shift"===e.key&&(r(!1),t(void 0),s(void 0))};return window.addEventListener("keyup",n),window.addEventListener("keydown",e),()=>{window.removeEventListener("keyup",n),window.removeEventListener("keydown",e)}},[]),{onClickIndex:n=>{a&&void 0!==e?s(n):(t(n),s(void 0))},startIndex:e,endIndex:n}}(),f=()=>{e.updateSelection(e=>a.forEach(t=>e.add(t.id)))};return(0,$.useEffect)(()=>{e.defaultSelectAll&&f()},[]),(0,$.useEffect)(()=>{if(void 0===u||void 0===p)return;let[t,n]=[u,p].sort((e,t)=>e-t);e.updateSelection(e=>{for(let r=t;r<=n;r+=1){var s;e.add(null!==(s=a[r].id)&&void 0!==s?s:r)}})},[u,p]),(0,q.jsxs)("div",{className:tg()["message-selector"],children:[(0,q.jsxs)("div",{className:tg()["message-filter"],children:[(0,q.jsx)("input",{type:"text",placeholder:e8.ZP.Select.Search,className:tg()["filter-item"]+" "+tg()["search-bar"],value:i,onInput:e=>{o(e.currentTarget.value),h(e.currentTarget.value)}}),(0,q.jsxs)("div",{className:tg().actions,children:[(0,q.jsx)(e9.h,{text:e8.ZP.Select.All,bordered:!0,className:tg()["filter-item"],onClick:f}),(0,q.jsx)(e9.h,{text:e8.ZP.Select.Latest,bordered:!0,className:tg()["filter-item"],onClick:()=>e.updateSelection(e=>{e.clear(),a.slice(r-4).forEach(t=>e.add(t.id))})}),(0,q.jsx)(e9.h,{text:e8.ZP.Select.Clear,bordered:!0,className:tg()["filter-item"],onClick:()=>e.updateSelection(e=>e.clear())})]})]}),(0,q.jsx)("div",{className:tg().messages,children:a.map((n,s)=>{var a;if(!m(n.id))return null;let r=null!==(a=n.id)&&void 0!==a?a:s,i=e.selection.has(r);return(0,q.jsxs)("div",{className:"".concat(tg().message," ").concat(e.selection.has(n.id)&&tg()["message-selected"]),onClick:()=>{e.updateSelection(e=>{e.has(r)?e.delete(r):e.add(r)}),g(s)},children:[(0,q.jsx)("div",{className:tg().avatar,children:"user"===n.role?(0,q.jsx)(ta.qE,{avatar:l.avatar}):(0,q.jsx)(tr.MaskAvatar,{avatar:t.mask.avatar,model:n.model||t.mask.modelConfig.model})}),(0,q.jsxs)("div",{className:tg().body,children:[(0,q.jsx)("div",{className:tg().date,children:new Date(n.date).toLocaleString()}),(0,q.jsx)("div",{className:"".concat(tg().content," one-line"),children:(0,e1.YK)(n)})]}),(0,q.jsx)("div",{className:tg().checkbox,children:(0,q.jsx)("input",{type:"checkbox",checked:i,readOnly:!0})})]},s)})})]})}var tv=n(20703),tx=n(99823),t_=n(94880),tw=n(13503);let ty=(0,e2.default)(async()=>(await Promise.all([n.e(721),n.e(3954),n.e(6991),n.e(6303)]).then(n.bind(n,42896))).Markdown,{loadableGenerated:{webpack:()=>[42896]},loading:()=>(0,q.jsx)(ep.Z,{})});function tk(e){return(0,q.jsx)("div",{className:"modal-mask",children:(0,q.jsx)(tt.u_,{title:e8.ZP.Export.Title,onClose:e.onClose,footer:(0,q.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:14,opacity:.5},children:e8.ZP.Exporter.Description.Title}),children:(0,q.jsx)("div",{style:{minHeight:"40vh"},children:(0,q.jsx)(tC,{})})})})}function tj(e){let t=e.steps,n=t.length;return(0,q.jsxs)("div",{className:td().steps,children:[(0,q.jsx)("div",{className:td()["steps-progress"],children:(0,q.jsx)("div",{className:td()["steps-progress-inner"],style:{width:"".concat((e.index+1)/n*100,"%")}})}),(0,q.jsx)("div",{className:td()["steps-inner"],children:t.map((t,n)=>(0,q.jsxs)("div",{className:"".concat(td().step," ").concat(td()[n<=e.index?"step-finished":""]," ").concat(n===e.index&&td()["step-current"]," clickable"),onClick:()=>{var t;null===(t=e.onStepChange)||void 0===t||t.call(e,n)},role:"button",children:[(0,q.jsx)("span",{className:td()["step-index"],children:n+1}),(0,q.jsx)("span",{className:td()["step-name"],children:t.name})]},n))})]})}function tC(){let e=[{name:e8.ZP.Export.Steps.Select,value:"select"},{name:e8.ZP.Export.Steps.Preview,value:"preview"}],{currentStep:t,setCurrentStepIndex:n,currentStepIndex:s}=function(e){let t=e.length,[n,s]=(0,$.useState)(0);return{currentStepIndex:n,setCurrentStepIndex:s,nextStep:()=>s((n+1)%t),prevStep:()=>s((n-1+t)%t),currentStep:e[n]}}(e),[a,r]=(0,$.useState)({format:"image",includeContext:!0});function l(e){let t={...a};e(t),r(t)}let i=(0,e3.aK)().currentSession(),{selection:o,updateSelection:c}=function(){let[e,t]=(0,$.useState)(new Set);return{selection:e,updateSelection:n=>{let s=new Set(e);n(s),t(s)}}}(),d=(0,$.useMemo)(()=>{let e=[];return a.includeContext&&e.push(...i.mask.context),e.push(...i.messages.filter(e=>o.has(e.id))),e},[a.includeContext,i.messages,i.mask.context,o]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tj,{steps:e,index:s,onStepChange:n}),(0,q.jsxs)("div",{className:td()["message-exporter-body"],style:"select"!==t.value?{display:"none"}:{},children:[(0,q.jsxs)(tt.aV,{children:[(0,q.jsx)(tt.HC,{title:e8.ZP.Export.Format.Title,subTitle:e8.ZP.Export.Format.SubTitle,children:(0,q.jsx)(tt.Ph,{value:a.format,onChange:e=>l(t=>t.format=e.currentTarget.value),children:["text","image","json"].map(e=>(0,q.jsx)("option",{value:e,children:e},e))})}),(0,q.jsx)(tt.HC,{title:e8.ZP.Export.IncludeContext.Title,subTitle:e8.ZP.Export.IncludeContext.SubTitle,children:(0,q.jsx)("input",{type:"checkbox",checked:a.includeContext,onChange:e=>{l(t=>t.includeContext=e.currentTarget.checked)}})})]}),(0,q.jsx)(tf,{selection:o,updateSelection:c,defaultSelectAll:!0})]}),"preview"===t.value&&(0,q.jsx)("div",{className:td()["message-exporter-body"],children:"text"===a.format?(0,q.jsx)(tO,{messages:d,topic:i.topic}):"json"===a.format?(0,q.jsx)(tN,{messages:d,topic:i.topic}):(0,q.jsx)(tM,{messages:d,topic:i.topic})})]})}function tE(e){let t=(0,$.useRef)(null);return(0,$.useEffect)(()=>{if(!t.current)return;let n=Array.from(t.current.getElementsByClassName(ts.yY));if(n.length!==e.messages.length)return;let s=n.map((e,t)=>{var n;let[s,a]=e.id.split(":");return{id:t.toString(),role:s,content:"user"===s?null!==(n=e.textContent)&&void 0!==n?n:"":e.innerHTML,date:""}});e.onRender(s)},[]),(0,q.jsx)("div",{ref:t,children:e.messages.map((e,t)=>(0,q.jsx)("div",{id:"".concat(e.role,":").concat(t),className:ts.yY,children:(0,q.jsx)(ty,{content:(0,e1.YK)(e),defaultShow:!0})},t))})}function tb(e){var t;let[n,s]=(0,$.useState)(!1),[a,r]=(0,$.useState)(!1),l=(0,e3.MG)(),i=async()=>{var t;(null===(t=e.messages)||void 0===t?void 0:t.length)&&(s(!0),r(!0))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:td()["preview-actions"],children:[e.showCopy&&(0,q.jsx)(e9.h,{text:e8.ZP.Export.Copy,bordered:!0,shadow:!0,icon:(0,q.jsx)(ec.Z,{}),onClick:e.copy}),(0,q.jsx)(e9.h,{text:e8.ZP.Export.Download,bordered:!0,shadow:!0,icon:(0,q.jsx)(tu.Z,{}),onClick:e.download}),(0,q.jsx)(e9.h,{text:e8.ZP.Export.Share,bordered:!0,shadow:!0,icon:n?(0,q.jsx)(ep.Z,{}):(0,q.jsx)(ei.Z,{}),onClick:i})]}),(0,q.jsx)("div",{style:{position:"fixed",right:"200vw",pointerEvents:"none"},children:a&&(0,q.jsx)(tE,{messages:null!==(t=e.messages)&&void 0!==t?t:[],onRender:e=>{r(!1),(0,tw.Lw)(l.modelConfig.providerName).share(e).then(e=>{e&&((0,tt.K4)({title:e8.ZP.Export.Share,children:[(0,q.jsx)("input",{type:"text",value:e,style:{width:"100%",maxWidth:"unset"},readOnly:!0,onClick:e=>e.currentTarget.select()},"input")],actions:[(0,q.jsx)(e9.h,{icon:(0,q.jsx)(ec.Z,{}),text:e8.ZP.Chat.Actions.Copy,onClick:()=>(0,e1.vQ)(e)},"copy")]}),setTimeout(()=>{window.open(e,"_blank")},800))}).catch(e=>{console.error("[Share]",e),(0,tt.CF)((0,to.B)(e))}).finally(()=>s(!1))}})})]})}function tS(e){return e.avatar===tl._G?(0,q.jsx)("img",{src:th.src,width:30,height:30,alt:"bot",className:"user-avatar"}):(0,q.jsx)(ta.qE,{avatar:e.avatar})}function tM(e){var t,n;let s=(0,e3.aK)().currentSession(),a=s.mask,r=(0,e3.MG)(),l=(0,$.useRef)(null),i=(0,e1.S0)(),o=async()=>{var t;(0,tt.CF)(e8.ZP.Export.Image.Toast);let n=l.current;if(!n)return;let s=null===(t=(0,t_.Z)())||void 0===t?void 0:t.isApp;try{let t=await (0,tx.YM)(n);if(!t)return;if(i||s&&window.__TAURI__){if(s&&window.__TAURI__){let n=await window.__TAURI__.dialog.save({defaultPath:"".concat(e.topic,".png"),filters:[{name:"PNG Files",extensions:["png"]},{name:"All Files",extensions:["*"]}]});if(null!==n){let e=await fetch(t),s=await e.arrayBuffer(),a=new Uint8Array(s);await window.__TAURI__.fs.writeBinaryFile(n,a),(0,tt.CF)(e8.ZP.Download.Success)}else(0,tt.CF)(e8.ZP.Download.Failed)}else(0,tt.vi)(t)}else{let n=document.createElement("a");n.download="".concat(e.topic,".png"),n.href=t,n.click(),c()}}catch(e){(0,tt.CF)(e8.ZP.Download.Failed)}},c=()=>{let e=l.current;e&&(e.innerHTML=e.innerHTML)};return(0,q.jsxs)("div",{className:td()["image-previewer"],children:[(0,q.jsx)(tb,{copy:()=>{(0,tt.CF)(e8.ZP.Export.Image.Toast);let e=l.current;e&&(0,tx.SE)(e).then(e=>{if(e)try{navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then(()=>{(0,tt.CF)(e8.ZP.Copy.Success),c()})}catch(e){console.error("[Copy Image] ",e),(0,tt.CF)(e8.ZP.Copy.Failed)}})},download:o,showCopy:!i,messages:e.messages}),(0,q.jsxs)("div",{className:"".concat(td()["preview-body"]," ").concat(td()["default-theme"]),ref:l,children:[(0,q.jsxs)("div",{className:td()["chat-info"],children:[(0,q.jsx)("div",{className:td().logo+" no-dark",children:(0,q.jsx)(tv.default,{src:tm.Z.src,alt:"logo",width:50,height:50})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("div",{className:td()["main-title"],children:"Artificial Imbecile"}),(0,q.jsx)("div",{className:td()["sub-title"],children:a.modelConfig.model}),(0,q.jsxs)("div",{className:td().icons,children:[(0,q.jsx)(tS,{avatar:r.avatar}),(0,q.jsx)("span",{className:td()["icon-space"],children:"&"}),(0,q.jsx)(tS,{avatar:a.avatar})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:td()["chat-info-item"],children:[e8.ZP.Exporter.Model,": ",a.modelConfig.model]}),(0,q.jsxs)("div",{className:td()["chat-info-item"],children:[e8.ZP.Exporter.Messages,": ",e.messages.length]}),(0,q.jsxs)("div",{className:td()["chat-info-item"],children:[e8.ZP.Exporter.Topic,": ",s.topic]}),(0,q.jsxs)("div",{className:td()["chat-info-item"],children:[e8.ZP.Exporter.Time,":"," ",new Date(null!==(n=null===(t=e.messages.at(-1))||void 0===t?void 0:t.date)&&void 0!==n?n:Date.now()).toLocaleString()]})]})]}),e.messages.map((e,t)=>(0,q.jsxs)("div",{className:td().message+" "+td()["message-"+e.role],children:[(0,q.jsx)("div",{className:td().avatar,children:(0,q.jsx)(tS,{avatar:"user"===e.role?r.avatar:a.avatar})}),(0,q.jsxs)("div",{className:td().body,children:[(0,q.jsx)(ty,{content:(0,e1.YK)(e),fontSize:r.fontSize,fontFamily:r.fontFamily,defaultShow:!0}),1==(0,e1.Bs)(e).length&&(0,q.jsx)("img",{src:(0,e1.Bs)(e)[0],alt:"message",className:td()["message-image"]},t),(0,e1.Bs)(e).length>1&&(0,q.jsx)("div",{className:td()["message-images"],style:{"--image-count":(0,e1.Bs)(e).length},children:(0,e1.Bs)(e).map((e,t)=>(0,q.jsx)("img",{src:e,alt:"message",className:td()["message-image-multi"]},t))})]})]},t))]})]})}function tO(e){let t="# ".concat(e.topic,"\n\n")+e.messages.map(e=>"user"===e.role?"## ".concat(e8.ZP.Export.MessageFromYou,":\n").concat((0,e1.YK)(e)):"## ".concat(e8.ZP.Export.MessageFromChatGPT,":\n").concat((0,e1.YK)(e).trim())).join("\n\n");return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tb,{copy:()=>{(0,e1.vQ)(t)},download:()=>{(0,e1.CP)(t,"".concat(e.topic,".md"))},showCopy:!0,messages:e.messages}),(0,q.jsx)("div",{className:"markdown-body",children:(0,q.jsx)("pre",{className:td()["export-content"],children:t})})]})}function tN(e){let t={messages:[{role:"system",content:"".concat(e8.ZP.FineTuned.Sysmessage," ").concat(e.topic)},...e.messages.map(e=>({role:e.role,content:e.content}))]},n="```json\n"+JSON.stringify(t,null,2)+"\n```",s=JSON.stringify(t),a=()=>{(0,e1.vQ)(s)};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tb,{copy:a,download:()=>{(0,e1.CP)(JSON.stringify(t),"".concat(e.topic,".json"))},showCopy:!1,messages:e.messages}),(0,q.jsx)("div",{className:"markdown-body",onClick:a,children:(0,q.jsx)(ty,{content:n})})]})}var tP=n(20234),tZ=n(8620),tT=n(27815),tA=n(37906);(r=X||(X={})).SILENT="silent",r.X_SOFT="x-soft",r.SOFT="soft",r.MEDIUM="medium",r.LOUD="loud",r.X_LOUD="x-LOUD",r.DEFAULT="default",(l=G||(G={})).X_SLOW="x-slow",l.SLOW="slow",l.MEDIUM="medium",l.FAST="fast",l.X_FAST="x-fast",l.DEFAULT="default",(i=Y||(Y={})).X_LOW="x-low",i.LOW="low",i.MEDIUM="medium",i.HIGH="high",i.X_HIGH="x-high",i.DEFAULT="default",(o=Q||(Q={})).AUDIO_24KHZ_48KBITRATE_MONO_MP3="audio-24khz-48kbitrate-mono-mp3",o.AUDIO_24KHZ_96KBITRATE_MONO_MP3="audio-24khz-96kbitrate-mono-mp3",o.WEBM_24KHZ_16BIT_MONO_OPUS="webm-24khz-16bit-mono-opus";class tI{constructor(){this.pitch="+0Hz",this.rate=1,this.volume=100}}class tL{_log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._enableLogger&&console.log(...t)}async _send(e){for(let e=1;e<=3&&this._ws.readyState!==this._ws.OPEN;e++)1==e&&(this._startTime=Date.now()),this._log("connecting: ",e),await this._initClient();this._ws.send(e)}_initClient(){return this._ws=new WebSocket(tL.SYNTH_URL),this._ws.binaryType="arraybuffer",new Promise((e,t)=>{this._ws.onopen=()=>{this._log("Connected in",(Date.now()-this._startTime)/1e3,"seconds"),this._send('Content-Type:application/json; charset=utf-8\r\nPath:speech.config\r\n\r\n\n                    {\n                        "context": {\n                            "synthesis": {\n                                "audio": {\n                                    "metadataoptions": {\n                                        "sentenceBoundaryEnabled": "false",\n                                        "wordBoundaryEnabled": "false"\n                                    },\n                                    "outputFormat": "'.concat(this._outputFormat,'" \n                                }\n                            }\n                        }\n                    }\n                ')).then(e)},this._ws.onmessage=e=>{let t=tZ.Buffer.from(e.data),n=t.toString(),s=/X-RequestId:(.*?)\r\n/gm.exec(n)[1];n.includes("Path:turn.start")||(n.includes("Path:turn.end")?this._streams[s].push(null):n.includes("Path:response")||(n.includes("Path:audio")&&e.data instanceof ArrayBuffer?this._pushAudioData(t,s):this._log("UNKNOWN MESSAGE",n)))},this._ws.onclose=()=>{for(let e in this._log("disconnected after:",(Date.now()-this._startTime)/1e3,"seconds"),this._streams)this._streams[e].push(null)},this._ws.onerror=function(e){t("Connect Error: "+e)}})}_pushAudioData(e,t){let n=e.indexOf(tL.BINARY_DELIM)+tL.BINARY_DELIM.length,s=e.subarray(n);this._streams[t].push(s),this._log("received audio chunk, size: ",null==s?void 0:s.length)}_SSMLTemplate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t={...new tI,...t},'<speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xmlns:mstts="https://www.w3.org/2001/mstts" xml:lang="'.concat(this._voiceLocale,'">\n                <voice name="').concat(this._voice,'">\n                    <prosody pitch="').concat(t.pitch,'" rate="').concat(t.rate,'" volume="').concat(t.volume,'">\n                        ').concat(e,"\n                    </prosody> \n                </voice>\n            </speak>")}getVoices(){return fetch(tL.VOICES_URL).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>e).catch(e=>{throw e})}async setMetadata(e,t,n){let s=this._voice,a=this._voiceLocale,r=this._outputFormat;if(this._voice=e,this._voiceLocale=n,!this._voiceLocale){let e=tL.VOICE_LANG_REGEX.exec(this._voice);if(!e)throw Error("Could not infer voiceLocale from voiceName!");this._voiceLocale=e[0]}this._outputFormat=t,(s!==this._voice||a!==this._voiceLocale||r!==this._outputFormat||this._ws.readyState!==this._ws.OPEN)&&(this._startTime=Date.now(),await this._initClient())}_metadataCheck(){if(!this._ws)throw Error("Speech synthesis not configured yet. Run setMetadata before calling toStream or toFile.")}close(){this._ws.close()}toStream(e,t){let{stream:n}=this._rawSSMLRequest(this._SSMLTemplate(e,t));return n}toArrayBuffer(e,t){return new Promise((n,s)=>{let a=[],r=this.toStream(e,t);r.on("data",e=>{a.push(e)}),r.on("end",()=>{n(tZ.Buffer.concat(a).buffer)}),r.on("error",e=>{s(e)})})}rawToStream(e){let{stream:t}=this._rawSSMLRequest(e);return t}_rawSSMLRequest(e){this._metadataCheck();let t=(0,tT.randomBytes)(16).toString("hex"),n="X-RequestId:".concat(t,"\r\nContent-Type:application/ssml+xml\r\nPath:ssml\r\n\r\n\n                ")+e.trim(),s=this,a=new tA.Readable({read(){},destroy(e,n){delete s._streams[t],n(e)}});return this._streams[t]=a,this._send(n).then(),{stream:a,requestId:t}}constructor(e=!1){this._streams={},this._startTime=0,this._enableLogger=e}}tL.OUTPUT_FORMAT=Q,tL.TRUSTED_CLIENT_TOKEN="6A5AA1D4EAFF4E9FB37E23D68491D6F4",tL.VOICES_URL="https://speech.platform.bing.com/consumer/speech/synthesize/readaloud/voices/list?trustedclienttoken=".concat(tL.TRUSTED_CLIENT_TOKEN),tL.SYNTH_URL="wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1?TrustedClientToken=".concat(tL.TRUSTED_CLIENT_TOKEN),tL.BINARY_DELIM="Path:audio\r\n",tL.VOICE_LANG_REGEX=/\w{2}-\w{2}/;var tH=n(10307);let tD=(0,e1.EN)(),tK=(s=null,a=null,{init:()=>{(s=new(window.AudioContext||window.webkitAudioContext)).suspend()},play:async(e,t)=>{a&&(a.stop(),a.disconnect());let n=await s.decodeAudioData(e);(a=s.createBufferSource()).buffer=n,a.connect(s.destination),s.resume().then(()=>{a.start()}),a.onended=t},stop:()=>{a&&(a.stop(),a.disconnect(),a=null),s&&(s.close(),s=null)}}),tz=(0,e2.default)(async()=>(await Promise.all([n.e(721),n.e(3954),n.e(6991),n.e(6303)]).then(n.bind(n,42896))).Markdown,{loadableGenerated:{webpack:()=>[42896]},loading:()=>(0,q.jsx)(ep.Z,{})});function tF(e){let t=(0,e3.aK)(),n=t.currentSession(),s=(0,tl.Zy)(),a=(0,tn.s0)();return(0,q.jsx)("div",{className:"modal-mask",children:(0,q.jsx)(tt.u_,{title:e8.ZP.Context.Edit,onClose:()=>e.onClose(),actions:[(0,q.jsx)(e9.h,{icon:(0,q.jsx)(ew.Z,{}),bordered:!0,text:e8.ZP.Chat.Config.Reset,onClick:async()=>{await (0,tt.i0)(e8.ZP.Memory.ResetConfirm)&&t.updateCurrentSession(e=>e.memoryPrompt="")}},"reset"),(0,q.jsx)(e9.h,{icon:(0,q.jsx)(ec.Z,{}),bordered:!0,text:e8.ZP.Chat.Config.SaveAs,onClick:()=>{a(ts.y$.Masks),setTimeout(()=>{s.create(n.mask)},500)}},"copy")],children:(0,q.jsx)(tr.MaskConfig,{mask:n.mask,updateMask:e=>{let s={...n.mask};e(s),t.updateCurrentSession(e=>e.mask=s)},shouldSyncFromGlobal:!0,extraListItems:n.mask.modelConfig.sendMemory?(0,q.jsx)(tt.HC,{className:"copyable",title:"".concat(e8.ZP.Memory.Title," (").concat(n.lastSummarizeIndex," of ").concat(n.messages.length,")"),subTitle:n.memoryPrompt||e8.ZP.Memory.EmptyContent}):(0,q.jsx)(q.Fragment,{})})})})}function tR(e){let t=(0,e3.aK)().currentSession().mask.context;return(0,q.jsxs)("div",{className:te()["prompt-toast"],children:[e.showToast&&t.length>0&&(0,q.jsxs)("div",{className:te()["prompt-toast-inner"]+" clickable",role:"button",onClick:()=>e.setShowModal(!0),children:[(0,q.jsx)(ea,{}),(0,q.jsx)("span",{className:te()["prompt-toast-content"],children:e8.ZP.Context.Toast(t.length)})]}),e.showModal&&(0,q.jsx)(tF,{onClose:()=>e.setShowModal(!1)})]},"prompt-toast")}function tB(e){let t=0===e.prompts.length,[n,s]=(0,$.useState)(0),a=(0,$.useRef)(null);return((0,$.useEffect)(()=>{s(0)},[e.prompts.length]),(0,$.useEffect)(()=>{let r=r=>{if(t||r.metaKey||r.altKey||r.ctrlKey)return;let l=t=>{var l;r.stopPropagation(),r.preventDefault(),s(Math.max(0,Math.min(e.prompts.length-1,n+t))),null===(l=a.current)||void 0===l||l.scrollIntoView({block:"center"})};if("ArrowUp"===r.key)l(1);else if("ArrowDown"===r.key)l(-1);else if("Enter"===r.key){let t=e.prompts.at(n);t&&e.onPromptSelect(t)}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e.prompts.length,n]),t)?null:(0,q.jsx)("div",{className:te()["prompt-hints"],children:e.prompts.map((t,r)=>(0,q.jsxs)("div",{ref:r===n?a:null,className:te()["prompt-hint"]+" ".concat(r===n?te()["prompt-hint-selected"]:""),onClick:()=>e.onPromptSelect(t),onMouseEnter:()=>s(r),children:[(0,q.jsx)("div",{className:te()["hint-title"],children:t.title}),(0,q.jsx)("div",{className:te()["hint-content"],children:t.content})]},t.title+r.toString()))})}function tW(){let e=(0,e3.aK)();return(0,q.jsxs)("div",{className:te()["clear-context"],onClick:()=>e.updateCurrentSession(e=>e.clearContextIndex=void 0),children:[(0,q.jsx)("div",{className:te()["clear-context-tips"],children:e8.ZP.Context.Clear}),(0,q.jsx)("div",{className:te()["clear-context-revert-btn"],children:e8.ZP.Context.Revert})]})}function tU(e){let t=(0,$.useRef)(null),n=(0,$.useRef)(null),[s,a]=(0,$.useState)({full:16,icon:16});function r(){if(!t.current||!n.current)return;let e=n.current.getBoundingClientRect().width,s=t.current.getBoundingClientRect().width;a({full:e+s,icon:s})}return(0,q.jsxs)("div",{className:"".concat(te()["chat-input-action"]," clickable"),onClick:()=>{e.onClick(),setTimeout(r,1)},onMouseEnter:r,onTouchStart:r,style:{"--icon-width":"".concat(s.icon,"px"),"--full-width":"".concat(s.full,"px")},children:[(0,q.jsx)("div",{ref:t,className:te().icon,children:e.icon}),(0,q.jsx)("div",{className:te().text,ref:n,children:e.text})]})}function tV(e){var t,n,s,a,r,l,i,o;let c=(0,e3.MG)(),d=(0,tn.s0)(),m=(0,e3.aK)(),h=(0,e3.RQ)(),u=c.theme,p=e4.L.hasPending(),g=m.currentSession().mask.modelConfig.model,f=(null===(t=m.currentSession().mask.modelConfig)||void 0===t?void 0:t.providerName)||ts.UT.OpenAI,v=(0,tP.l)(),x=(0,$.useMemo)(()=>{let e=v.filter(e=>e.available),t=e.find(e=>e.isDefault);return t?[t,...e.filter(e=>e!==t)]:e},[v]),_=(0,$.useMemo)(()=>{var e;let t=x.find(e=>{var t;return e.name==g&&(null==e?void 0:null===(t=e.provider)||void 0===t?void 0:t.providerName)==f});return null!==(e=null==t?void 0:t.displayName)&&void 0!==e?e:""},[x,g,f]),[w,y]=(0,$.useState)(!1),[k,j]=(0,$.useState)(!1),[C,E]=(0,$.useState)(!1),[b,S]=(0,$.useState)(!1),[M,O]=(0,$.useState)(!1),[N,P]=(0,$.useState)(!1),Z=null!==(l=null===(n=m.currentSession().mask.modelConfig)||void 0===n?void 0:n.size)&&void 0!==l?l:"1024x1024",T=null!==(i=null===(s=m.currentSession().mask.modelConfig)||void 0===s?void 0:s.quality)&&void 0!==i?i:"standard",A=null!==(o=null===(a=m.currentSession().mask.modelConfig)||void 0===a?void 0:a.style)&&void 0!==o?o:"vivid",I=(0,e1.S0)();return(0,$.useEffect)(()=>{let t=(0,e1.Xf)(g);if(E(t),t||(e.setAttachImages([]),e.setUploading(!1)),!x.some(e=>e.name===g)&&x.length>0){var n;let e=x.find(e=>e.isDefault)||x[0];m.updateCurrentSession(t=>{var n;t.mask.modelConfig.model=e.name,t.mask.modelConfig.providerName=null==e?void 0:null===(n=e.provider)||void 0===n?void 0:n.providerName}),(0,tt.CF)((null==e?void 0:null===(n=e.provider)||void 0===n?void 0:n.providerName)=="ByteDance"?e.displayName:e.name)}},[m,g,x]),(0,q.jsxs)("div",{className:te()["chat-input-actions"],children:[p&&(0,q.jsx)(tU,{onClick:()=>e4.L.stopAll(),text:e8.ZP.Chat.InputActions.Stop,icon:(0,q.jsx)(eR,{})}),!e.hitBottom&&(0,q.jsx)(tU,{onClick:e.scrollToBottom,text:e8.ZP.Chat.InputActions.ToBottom,icon:(0,q.jsx)(ez,{})}),e.hitBottom&&(0,q.jsx)(tU,{onClick:e.showPromptModal,text:e8.ZP.Chat.InputActions.Settings,icon:(0,q.jsx)(eC,{})}),C&&(0,q.jsx)(tU,{onClick:e.uploadImage,text:e8.ZP.Chat.InputActions.UploadImage,icon:e.uploading?(0,q.jsx)(eg.Z,{}):(0,q.jsx)(eZ,{})}),(0,q.jsx)(tU,{onClick:function(){let e=[e3.Q2.Auto,e3.Q2.Light,e3.Q2.Dark],t=(e.indexOf(u)+1)%e.length,n=e[t];c.update(e=>e.theme=n)},text:e8.ZP.Chat.InputActions.Theme[u],icon:(0,q.jsx)(q.Fragment,{children:u===e3.Q2.Auto?(0,q.jsx)(eD,{}):u===e3.Q2.Light?(0,q.jsx)(eA,{}):u===e3.Q2.Dark?(0,q.jsx)(eL,{}):null})}),(0,q.jsx)(tU,{onClick:e.showPromptHints,text:e8.ZP.Chat.InputActions.Prompt,icon:(0,q.jsx)(ef.Z,{})}),(0,q.jsx)(tU,{onClick:()=>{d(ts.y$.Masks)},text:e8.ZP.Chat.InputActions.Masks,icon:(0,q.jsx)(ev.Z,{})}),(0,q.jsx)(tU,{text:e8.ZP.Chat.InputActions.Clear,icon:(0,q.jsx)(ek,{}),onClick:()=>{m.updateCurrentSession(e=>{e.clearContextIndex===e.messages.length?e.clearContextIndex=void 0:(e.clearContextIndex=e.messages.length,e.memoryPrompt="")})}}),(0,q.jsx)(tU,{onClick:()=>y(!0),text:_,icon:(0,q.jsx)(eW,{})}),w&&(0,q.jsx)(tt.Qf,{defaultSelectedValue:"".concat(g,"@").concat(f),items:x.map(e=>{var t,n,s;return{title:"".concat(e.displayName).concat((null==e?void 0:null===(t=e.provider)||void 0===t?void 0:t.providerName)?" ("+(null==e?void 0:null===(n=e.provider)||void 0===n?void 0:n.providerName)+")":""),value:"".concat(e.name,"@").concat(null==e?void 0:null===(s=e.provider)||void 0===s?void 0:s.providerName)}}),onClose:()=>y(!1),onSelection:e=>{if(0===e.length)return;let[t,n]=e[0].split("@");if(m.updateCurrentSession(e=>{e.mask.modelConfig.model=t,e.mask.modelConfig.providerName=n,e.mask.syncGlobalConfig=!1}),"ByteDance"==n){var s;let e=x.find(e=>{var s;return e.name==t&&(null==e?void 0:null===(s=e.provider)||void 0===s?void 0:s.providerName)==n});(0,tt.CF)(null!==(s=null==e?void 0:e.displayName)&&void 0!==s?s:"")}else(0,tt.CF)(t)}}),(0,e1.Wu)(g)&&(0,q.jsx)(tU,{onClick:()=>S(!0),text:Z,icon:(0,q.jsx)(eV,{})}),b&&(0,q.jsx)(tt.Qf,{defaultSelectedValue:Z,items:["1024x1024","1792x1024","1024x1792"].map(e=>({title:e,value:e})),onClose:()=>S(!1),onSelection:e=>{if(0===e.length)return;let t=e[0];m.updateCurrentSession(e=>{e.mask.modelConfig.size=t}),(0,tt.CF)(t)}}),(0,e1.Wu)(g)&&(0,q.jsx)(tU,{onClick:()=>O(!0),text:T,icon:(0,q.jsx)(eG,{})}),M&&(0,q.jsx)(tt.Qf,{defaultSelectedValue:T,items:["standard","hd"].map(e=>({title:e,value:e})),onClose:()=>O(!1),onSelection:e=>{if(0===e.length)return;let t=e[0];m.updateCurrentSession(e=>{e.mask.modelConfig.quality=t}),(0,tt.CF)(t)}}),(0,e1.Wu)(g)&&(0,q.jsx)(tU,{onClick:()=>P(!0),text:A,icon:(0,q.jsx)(eQ,{})}),N&&(0,q.jsx)(tt.Qf,{defaultSelectedValue:A,items:["vivid","natural"].map(e=>({title:e,value:e})),onClose:()=>P(!1),onSelection:e=>{if(0===e.length)return;let t=e[0];m.updateCurrentSession(e=>{e.mask.modelConfig.style=t}),(0,tt.CF)(t)}}),(0,e1.up)(f,g)&&(0,q.jsx)(tU,{onClick:()=>{0==h.getAll().length?d(ts.y$.Plugins):j(!0)},text:e8.ZP.Plugin.Name,icon:(0,q.jsx)(eJ,{})}),k&&(0,q.jsx)(tt.Qf,{multiple:!0,defaultSelectedValue:null===(r=m.currentSession().mask)||void 0===r?void 0:r.plugin,items:h.getAll().map(e=>({title:"".concat(null==e?void 0:e.title,"@").concat(null==e?void 0:e.version),value:null==e?void 0:e.id})),onClose:()=>j(!1),onSelection:e=>{m.updateCurrentSession(t=>{t.mask.plugin=e})}}),!I&&(0,q.jsx)(tU,{onClick:()=>e.setShowShortcutKeyModal(!0),text:e8.ZP.Chat.ShortcutKey.Title,icon:(0,q.jsx)(e0,{})})]})}function tX(e){let t=(0,e3.aK)(),n=t.currentSession(),[s,a]=(0,$.useState)(n.messages.slice());return(0,q.jsx)("div",{className:"modal-mask",children:(0,q.jsxs)(tt.u_,{title:e8.ZP.Chat.EditMessage.Title,onClose:e.onClose,actions:[(0,q.jsx)(e9.h,{text:e8.ZP.UI.Cancel,icon:(0,q.jsx)(eN.Z,{}),onClick:()=>{e.onClose()}},"cancel"),(0,q.jsx)(e9.h,{type:"primary",text:e8.ZP.UI.Confirm,icon:(0,q.jsx)(eM.Z,{}),onClick:()=>{t.updateCurrentSession(e=>e.messages=s),e.onClose()}},"ok")],children:[(0,q.jsx)(tt.aV,{children:(0,q.jsx)(tt.HC,{title:e8.ZP.Chat.EditMessage.Topic.Title,subTitle:e8.ZP.Chat.EditMessage.Topic.SubTitle,children:(0,q.jsx)("input",{type:"text",value:n.topic,onInput:e=>t.updateCurrentSession(t=>t.topic=e.currentTarget.value)})})}),(0,q.jsx)(tr.ContextPrompts,{context:s,updateContext:e=>{let t=s.slice();e(t),a(t)}})]})})}function tG(e){return(0,q.jsx)("div",{className:te()["delete-image"],onClick:e.deleteImage,children:(0,q.jsx)(eE.Z,{})})}function tY(e){let t=navigator.platform.toUpperCase().indexOf("MAC")>=0,n=[{title:e8.ZP.Chat.ShortcutKey.newChat,keys:t?["âŒ˜","Shift","O"]:["Ctrl","Shift","O"]},{title:e8.ZP.Chat.ShortcutKey.focusInput,keys:["Shift","Esc"]},{title:e8.ZP.Chat.ShortcutKey.copyLastCode,keys:t?["âŒ˜","Shift",";"]:["Ctrl","Shift",";"]},{title:e8.ZP.Chat.ShortcutKey.copyLastMessage,keys:t?["âŒ˜","Shift","C"]:["Ctrl","Shift","C"]},{title:e8.ZP.Chat.ShortcutKey.showShortcutKey,keys:t?["âŒ˜","/"]:["Ctrl","/"]}];return(0,q.jsx)("div",{className:"modal-mask",children:(0,q.jsx)(tt.u_,{title:e8.ZP.Chat.ShortcutKey.Title,onClose:e.onClose,actions:[(0,q.jsx)(e9.h,{type:"primary",text:e8.ZP.UI.Confirm,icon:(0,q.jsx)(eM.Z,{}),onClick:()=>{e.onClose()}},"ok")],children:(0,q.jsx)("div",{className:te()["shortcut-key-container"],children:(0,q.jsx)("div",{className:te()["shortcut-key-grid"],children:n.map((e,t)=>(0,q.jsxs)("div",{className:te()["shortcut-key-item"],children:[(0,q.jsx)("div",{className:te()["shortcut-key-title"],children:e.title}),(0,q.jsx)("div",{className:te()["shortcut-key-keys"],children:e.keys.map((e,t)=>(0,q.jsx)("div",{className:te()["shortcut-key"],children:(0,q.jsx)("span",{children:e})},t))})]},t))})})})})}function tQ(){var e,t;let s=(0,e3.aK)(),a=s.currentSession(),r=(0,e3.MG)(),l=r.fontSize,i=r.fontFamily,[o,c]=(0,$.useState)(!1),d=(0,$.useRef)(null),[m,h]=(0,$.useState)(""),[u,p]=(0,$.useState)(!1),{submitKey:g,shouldSubmit:f}=function(){let e=(0,e3.MG)(),t=e.submitKey,n=(0,$.useRef)(!1);return(0,$.useEffect)(()=>{let e=()=>{n.current=!0},t=()=>{n.current=!1};return window.addEventListener("compositionstart",e),window.addEventListener("compositionend",t),()=>{window.removeEventListener("compositionstart",e),window.removeEventListener("compositionend",t)}},[]),{submitKey:t,shouldSubmit:t=>229!=t.keyCode&&"Enter"===t.key&&("Enter"!==t.key||!t.nativeEvent.isComposing&&!n.current)&&(e.submitKey===e3.mQ.AltEnter&&t.altKey||e.submitKey===e3.mQ.CtrlEnter&&t.ctrlKey||e.submitKey===e3.mQ.ShiftEnter&&t.shiftKey||e.submitKey===e3.mQ.MetaEnter&&t.metaKey||e.submitKey===e3.mQ.Enter&&!t.altKey&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey)}}(),v=(0,$.useRef)(null),x=null!=v&&!!v.current&&1>=Math.abs(v.current.scrollHeight-(v.current.scrollTop+v.current.clientHeight)),{setAutoScroll:_,scrollDomToBottom:w}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,s]=(0,$.useState)(!0);function a(){let t=e.current;t&&requestAnimationFrame(()=>{s(!0),t.scrollTo(0,t.scrollHeight)})}return(0,$.useEffect)(()=>{n&&!t&&a()}),{scrollRef:e,autoScroll:n,setAutoScroll:s,scrollDomToBottom:a}}(v,x),[y,k]=(0,$.useState)(!0),j=(0,e1.S0)(),C=(0,tn.s0)(),[E,b]=(0,$.useState)([]),[S,M]=(0,$.useState)(!1),O=(0,e7.f)(),[N,P]=(0,$.useState)([]),Z=(0,J.y1)(e=>{P(O.search(e))},100,{leading:!0,trailing:!0}),[T,A]=(0,$.useState)(2),I=(0,J.y1)(()=>{let e=d.current?(0,e1.lx)(d.current):1;A(Math.min(20,Math.max(2+Number(!j),e)))},100,{leading:!0,trailing:!0});(0,$.useEffect)(I,[m]);let L=(0,ti.UK)({new:()=>s.newSession(),newm:()=>C(ts.y$.NewChat),prev:()=>s.nextSession(-1),next:()=>s.nextSession(1),clear:()=>s.updateCurrentSession(e=>e.clearContextIndex=e.messages.length),fork:()=>s.forkSession(),del:()=>s.deleteSession(s.currentSessionIndex)}),H=e=>{h(e);let t=e.trim().length;0===t?P([]):e.match(ti.x6)?P(L.search(e)):!r.disablePromptHint&&t<30&&e.startsWith("/")&&Z(e.slice(1))},D=e=>{var t;if(""===e.trim()&&(0,tH.Z)(E))return;let n=L.match(e);if(n.matched){h(""),P([]),n.invoke();return}p(!0),s.onUserInput(e,E).then(()=>p(!1)),b([]),s.setLastInput(e),h(""),P([]),j||null===(t=d.current)||void 0===t||t.focus(),_(!0)},K=e=>{e4.L.stop(a.id,e)};(0,$.useEffect)(()=>{s.updateCurrentSession(e=>{let t=Date.now()-ts.tb;e.messages.forEach(e=>{(e.isError||new Date(e.date).getTime()<t)&&(e.streaming&&(e.streaming=!1),0===e.content.length&&(e.isError=!0,e.content=(0,to.B)({error:!0,message:"empty response"})))}),e.mask.syncGlobalConfig&&(console.log("[Mask] syncing from global, name = ",e.mask.name),e.mask.modelConfig={...r.modelConfig})})},[]);let z=e=>{s.updateCurrentSession(t=>t.messages=t.messages.filter(t=>t.id!==e))},F=e=>{z(e)},R=e=>{var t;let n,r;let l=a.messages.findIndex(t=>t.id===e.id);if(l<0||l>=a.messages.length){console.error("[Chat] failed to find resending message",e);return}if("assistant"===e.role){r=e;for(let e=l;e>=0;e-=1)if("user"===a.messages[e].role){n=a.messages[e];break}}else if("user"===e.role){n=e;for(let e=l;e<a.messages.length;e+=1)if("assistant"===a.messages[e].role){r=a.messages[e];break}}if(void 0===n){console.error("[Chat] failed to resend",e);return}z(n.id),z(null==r?void 0:r.id),p(!0);let i=(0,e1.YK)(n),o=(0,e1.Bs)(n);s.onUserInput(i,o).then(()=>p(!1)),null===(t=d.current)||void 0===t||t.focus()},B=e=>{s.updateCurrentSession(t=>t.mask.context.push(e)),(0,tt.CF)(e8.ZP.Chat.Actions.PinToastContent,{text:e8.ZP.Chat.Actions.PinToastAction,onClick:()=>{ey(!0)}})},W=(0,e3._X)(),[U,V]=(0,$.useState)(!1),[X,G]=(0,$.useState)(!1);async function Y(e){if(U)tK.stop(),V(!1);else{var t;let s;t=new tw.ti(ts.k8.GPT);let a=e3.MG.getState();G(!0),tK.init();let{markdownToTxt:r}=n(69549),l=r(e);if(a.ttsConfig.engine!==ts.Xu){let e=W.edgeVoiceName(),t=new tL;await t.setMetadata(e,Q.AUDIO_24KHZ_96KBITRATE_MONO_MP3),s=await t.toArrayBuffer(l)}else s=await t.llm.speech({model:a.ttsConfig.model,input:l,voice:a.ttsConfig.voice,speed:a.ttsConfig.speed});V(!0),tK.play(s,()=>{V(!1)}).catch(e=>{console.error("[OpenAI Speech]",e),(0,tt.CF)((0,to.B)(e)),V(!1)}).finally(()=>G(!1))}}let ee=(0,$.useMemo)(()=>a.mask.hideContext?[]:a.mask.context.slice(),[a.mask.context,a.mask.hideContext]);if(0===ee.length&&(null===(e=a.messages.at(0))||void 0===e?void 0:e.content)!==e3.ux.content){let e=Object.assign({},e3.ux);W.isAuthorized()||(e.content=e8.ZP.Error.Unauthorized),ee.push(e)}let et=(0,$.useMemo)(()=>ee.concat(a.messages).concat(u?[{...(0,e3.tn)({role:"assistant",content:"â€¦â€¦"}),preview:!0}]:[]).concat(m.length>0&&r.sendPreviewBubble?[{...(0,e3.tn)({role:"user",content:m}),preview:!0}]:[]),[r.sendPreviewBubble,ee,u,a.messages,m]),[es,ea]=(0,$.useState)(Math.max(0,et.length-ts.nS));function er(e){ea(e=Math.max(0,e=Math.min(et.length-ts.nS,e)))}let ed=(0,$.useMemo)(()=>{let e=Math.min(es+3*ts.nS,et.length);return et.slice(es,e)},[es,et]),eh=e=>{let t=e.scrollTop+e.clientHeight,n=e.clientHeight,s=e.scrollTop<=n,a=t>=e.scrollHeight-n,r=t>=e.scrollHeight-(j?4:10),l=es-ts.nS,i=es+ts.nS;s&&!a?er(l):a&&er(i),k(r),_(r)};function ep(){er(et.length-ts.nS),w()}let ef=(null!==(t=a.clearContextIndex)&&void 0!==t?t:-1)>=0?a.clearContextIndex+ee.length-es:-1,[ev,ey]=(0,$.useState)(!1),ek=(0,$.useMemo)(()=>(0,t_.Z)(),[]),ej=!j&&!(null==ek?void 0:ek.isApp);(0,ti.YZ)({fill:h,submit:e=>{D(e)},code:e=>{W.disableFastLink||(console.log("[Command] got code from url: ",e),(0,tt.i0)(e8.ZP.URLCommand.Code+"code = ".concat(e)).then(t=>{t&&W.update(t=>t.accessCode=e)}))},settings:e=>{if(!W.disableFastLink)try{let t=JSON.parse(e);console.log("[Command] got settings from url: ",t),(t.key||t.url)&&(0,tt.i0)(e8.ZP.URLCommand.Settings+"\n".concat(JSON.stringify(t,null,4))).then(e=>{e&&(t.key&&W.update(e=>e.openaiApiKey=t.key),t.url&&W.update(e=>e.openaiUrl=t.url),W.update(e=>e.useCustomConfig=!0))})}catch(t){console.error("[Command] failed to get settings from url: ",e)}}});let[eC,eb]=(0,$.useState)(!1);(0,$.useEffect)(()=>{let e=(0,ts.AI)(a.id),t=tD.getItem(e);t&&0===m.length&&(h(t),tD.removeItem(e));let n=d.current;return()=>{var t;tD.setItem(e,null!==(t=null==n?void 0:n.value)&&void 0!==t?t:"")}},[]);let eN=(0,$.useCallback)(async e=>{let t=s.currentSession().mask.modelConfig.model;if((0,e1.Xf)(t)){for(let t of(e.clipboardData||window.clipboardData).items)if("file"===t.kind&&t.type.startsWith("image/")){e.preventDefault();let n=t.getAsFile();if(n){let e=[];e.push(...E),e.push(...await new Promise((e,t)=>{M(!0);let s=[];(0,e6.Ix)(n).then(t=>{s.push(t),M(!1),e(s)}).catch(e=>{M(!1),t(e)})}));let t=e.length;t>3&&e.splice(3,t-3),b(e)}}}},[E,s]);async function eP(){let e=[];e.push(...E),e.push(...await new Promise((e,t)=>{let n=document.createElement("input");n.type="file",n.accept="image/png, image/jpeg, image/webp, image/heic, image/heif",n.multiple=!0,n.onchange=n=>{M(!0);let s=n.target.files,a=[];for(let r=0;r<s.length;r++){let l=n.target.files[r];(0,e6.Ix)(l).then(t=>{a.push(t),(3===a.length||a.length===s.length)&&(M(!1),e(a))}).catch(e=>{M(!1),t(e)})}},n.click()}));let t=e.length;t>3&&e.splice(3,t-3),b(e)}let[eZ,eT]=(0,$.useState)(!1);return(0,$.useEffect)(()=>{let e=e=>{if((e.metaKey||e.ctrlKey)&&e.shiftKey&&"o"===e.key.toLowerCase())e.preventDefault(),setTimeout(()=>{s.newSession(),C(ts.y$.Chat)},10);else if(e.shiftKey&&"escape"===e.key.toLowerCase()){var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus()}else if((e.metaKey||e.ctrlKey)&&e.shiftKey&&"Semicolon"===e.code){e.preventDefault();let t=document.querySelectorAll(".copy-code-button");t.length>0&&t[t.length-1].click()}else if((e.metaKey||e.ctrlKey)&&e.shiftKey&&"c"===e.key.toLowerCase()){e.preventDefault();let t=ed.filter(e=>"user"!==e.role).pop();if(t){let e=(0,e1.YK)(t);(0,e1.vQ)(e)}}else(e.metaKey||e.ctrlKey)&&"/"===e.key&&(e.preventDefault(),eT(!0))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[ed,s,C]),(0,q.jsxs)("div",{className:te().chat,children:[(0,q.jsxs)("div",{className:"window-header","data-tauri-drag-region":!0,children:[j&&(0,q.jsx)("div",{className:"window-actions",children:(0,q.jsx)("div",{className:"window-action-button",children:(0,q.jsx)(e9.h,{icon:(0,q.jsx)(eo.Z,{}),bordered:!0,title:e8.ZP.Chat.Actions.ChatList,onClick:()=>C(ts.y$.Home)})})}),(0,q.jsxs)("div",{className:"window-header-title ".concat(te()["chat-body-title"]),children:[(0,q.jsx)("div",{className:"window-header-main-title ".concat(te()["chat-body-main-title"]),onClickCapture:()=>eb(!0),children:a.topic?a.topic:e3.HX}),(0,q.jsx)("div",{className:"window-header-sub-title",children:e8.ZP.Chat.SubTitle(a.messages.length)})]}),(0,q.jsxs)("div",{className:"window-actions",children:[(0,q.jsx)("div",{className:"window-action-button",children:(0,q.jsx)(e9.h,{icon:(0,q.jsx)(ew.Z,{}),bordered:!0,title:e8.ZP.Chat.Actions.RefreshTitle,onClick:()=>{(0,tt.CF)(e8.ZP.Chat.Actions.RefreshToast),s.summarizeSession(!0)}})}),!j&&(0,q.jsx)("div",{className:"window-action-button",children:(0,q.jsx)(e9.h,{icon:(0,q.jsx)(el,{}),bordered:!0,title:e8.ZP.Chat.EditMessage.Title,aria:e8.ZP.Chat.EditMessage.Title,onClick:()=>eb(!0)})}),(0,q.jsx)("div",{className:"window-action-button",children:(0,q.jsx)(e9.h,{icon:(0,q.jsx)(ei.Z,{}),bordered:!0,title:e8.ZP.Chat.Actions.Export,onClick:()=>{c(!0)}})}),ej&&(0,q.jsx)("div",{className:"window-action-button",children:(0,q.jsx)(e9.h,{icon:r.tightBorder?(0,q.jsx)(e_.Z,{}):(0,q.jsx)(ex.Z,{}),bordered:!0,title:e8.ZP.Chat.Actions.FullScreen,aria:e8.ZP.Chat.Actions.FullScreen,onClick:()=>{r.update(e=>e.tightBorder=!e.tightBorder)}})})]}),(0,q.jsx)(tR,{showToast:!y,showModal:ev,setShowModal:ey})]}),(0,q.jsx)("div",{className:te()["chat-body"],ref:v,onScroll:e=>eh(e.currentTarget),onMouseDown:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.blur()},onTouchStart:()=>{var e;null===(e=d.current)||void 0===e||e.blur(),_(!1)},children:ed.map((e,t)=>{var n,o,c;let d="user"===e.role,m=t<ee.length,u=t>0&&!(e.preview||0===e.content.length)&&!m,p=e.preview||e.streaming;return(0,q.jsxs)($.Fragment,{children:[(0,q.jsx)("div",{className:d?te()["chat-message-user"]:te()["chat-message"],children:(0,q.jsxs)("div",{className:te()["chat-message-container"],children:[(0,q.jsxs)("div",{className:te()["chat-message-header"],children:[(0,q.jsxs)("div",{className:te()["chat-message-avatar"],children:[(0,q.jsx)("div",{className:te()["chat-message-edit"],children:(0,q.jsx)(e9.h,{icon:(0,q.jsx)(el,{}),aria:e8.ZP.Chat.Actions.Edit,onClick:async()=>{let t=await (0,tt.G5)(e8.ZP.Chat.Actions.Edit,(0,e1.YK)(e),10),n=t,a=(0,e1.Bs)(e);if(a.length>0){n=[{type:"text",text:t}];for(let e=0;e<a.length;e++)n.push({type:"image_url",image_url:{url:a[e]}})}s.updateCurrentSession(t=>{let s=t.mask.context.concat(t.messages).find(t=>t.id===e.id);s&&(s.content=n)})}})}),d?(0,q.jsx)(ta.qE,{avatar:r.avatar}):(0,q.jsx)(q.Fragment,{children:["system"].includes(e.role)?(0,q.jsx)(ta.qE,{avatar:"2699-fe0f"}):(0,q.jsx)(tr.MaskAvatar,{avatar:a.mask.avatar,model:e.model||a.mask.modelConfig.model})})]}),!d&&(0,q.jsx)("div",{className:te()["chat-model-name"],children:e.model}),u&&(0,q.jsx)("div",{className:te()["chat-message-actions"],children:(0,q.jsx)("div",{className:te()["chat-input-actions"],children:e.streaming?(0,q.jsx)(tU,{text:e8.ZP.Chat.Actions.Stop,icon:(0,q.jsx)(eR,{}),onClick:()=>{var n;return K(null!==(n=e.id)&&void 0!==n?n:t)}}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(tU,{text:e8.ZP.Chat.Actions.Retry,icon:(0,q.jsx)(ew.Z,{}),onClick:()=>R(e)}),(0,q.jsx)(tU,{text:e8.ZP.Chat.Actions.Delete,icon:(0,q.jsx)(eE.Z,{}),onClick:()=>{var n;return F(null!==(n=e.id)&&void 0!==n?n:t)}}),(0,q.jsx)(tU,{text:e8.ZP.Chat.Actions.Pin,icon:(0,q.jsx)(eS,{}),onClick:()=>B(e)}),(0,q.jsx)(tU,{text:e8.ZP.Chat.Actions.Copy,icon:(0,q.jsx)(ec.Z,{}),onClick:()=>(0,e1.vQ)((0,e1.YK)(e))}),r.ttsConfig.enable&&(0,q.jsx)(tU,{text:U?e8.ZP.Chat.Actions.StopSpeech:e8.ZP.Chat.Actions.Speech,icon:U?(0,q.jsx)(eu,{}):(0,q.jsx)(em,{}),onClick:()=>Y((0,e1.YK)(e))})]})})})]}),(null==e?void 0:null===(n=e.tools)||void 0===n?void 0:n.length)==0&&p&&(0,q.jsx)("div",{className:te()["chat-message-status"],children:e8.ZP.Chat.Typing}),(null==e?void 0:null===(o=e.tools)||void 0===o?void 0:o.length)>0&&(0,q.jsx)("div",{className:te()["chat-message-tools"],children:null==e?void 0:null===(c=e.tools)||void 0===c?void 0:c.map(e=>{var t;return(0,q.jsxs)("div",{title:null==e?void 0:e.errorMsg,className:te()["chat-message-tool"],children:[!1===e.isError?(0,q.jsx)(eM.Z,{}):!0===e.isError?(0,q.jsx)(eO.Z,{}):(0,q.jsx)(eg.Z,{}),(0,q.jsx)("span",{children:null==e?void 0:null===(t=e.function)||void 0===t?void 0:t.name})]},e.id)})}),(0,q.jsxs)("div",{className:te()["chat-message-item"],children:[(0,q.jsx)(tz,{content:(0,e1.YK)(e),loading:(e.preview||e.streaming)&&0===e.content.length&&!d,onDoubleClickCapture:()=>{j&&h((0,e1.YK)(e))},fontSize:l,fontFamily:i,parentRef:v,defaultShow:t>=ed.length-6},e.streaming?"loading":"done"),1==(0,e1.Bs)(e).length&&(0,q.jsx)("img",{className:te()["chat-message-item-image"],src:(0,e1.Bs)(e)[0],alt:""}),(0,e1.Bs)(e).length>1&&(0,q.jsx)("div",{className:te()["chat-message-item-images"],style:{"--image-count":(0,e1.Bs)(e).length},children:(0,e1.Bs)(e).map((e,t)=>(0,q.jsx)("img",{className:te()["chat-message-item-image-multi"],src:e,alt:""},t))})]}),(0,q.jsx)("div",{className:te()["chat-message-action-date"],children:m?e8.ZP.Chat.IsContext:e.date.toLocaleString()})]})}),t===ef-1&&(0,q.jsx)(tW,{})]},e.id)})}),(0,q.jsxs)("div",{className:te()["chat-input-panel"],children:[(0,q.jsx)(tB,{prompts:N,onPromptSelect:e=>{setTimeout(()=>{var t;P([]);let n=L.match(e.content);n.matched?(n.invoke(),h("")):h(e.content),null===(t=d.current)||void 0===t||t.focus()},30)}}),(0,q.jsx)(tV,{uploadImage:eP,setAttachImages:b,setUploading:M,showPromptModal:()=>ey(!0),scrollToBottom:ep,hitBottom:y,uploading:S,showPromptHints:()=>{var e;if(N.length>0){P([]);return}null===(e=d.current)||void 0===e||e.focus(),h("/"),Z("")},setShowShortcutKeyModal:eT,setUserInput:h}),(0,q.jsxs)("label",{className:"".concat(te()["chat-input-panel-inner"]," ").concat(0!=E.length?te()["chat-input-panel-inner-attach"]:""),htmlFor:"chat-input",children:[(0,q.jsx)("textarea",{id:"chat-input",ref:d,className:te()["chat-input"],placeholder:e8.ZP.Chat.Input(g),onInput:e=>H(e.currentTarget.value),value:m,onKeyDown:e=>{if("ArrowUp"===e.key&&m.length<=0&&!(e.metaKey||e.altKey||e.ctrlKey)){var t;h(null!==(t=s.lastInput)&&void 0!==t?t:""),e.preventDefault();return}f(e)&&0===N.length&&(D(m),e.preventDefault())},onFocus:ep,onClick:ep,onPaste:eN,rows:T,autoFocus:!j,style:{fontSize:r.fontSize,fontFamily:r.fontFamily}}),0!=E.length&&(0,q.jsx)("div",{className:te()["attach-images"],children:E.map((e,t)=>(0,q.jsx)("div",{className:te()["attach-image"],style:{backgroundImage:'url("'.concat(e,'")')},children:(0,q.jsx)("div",{className:te()["attach-image-mask"],children:(0,q.jsx)(tG,{deleteImage:()=>{b(E.filter((e,n)=>n!==t))}})})},t))}),(0,q.jsx)(e9.h,{icon:(0,q.jsx)(en,{}),text:e8.ZP.Chat.Send,className:te()["chat-input-send"],type:"primary",onClick:()=>D(m)})]})]}),o&&(0,q.jsx)(tk,{onClose:()=>c(!1)}),eC&&(0,q.jsx)(tX,{onClose:()=>{eb(!1)}}),eZ&&(0,q.jsx)(tY,{onClose:()=>eT(!1)})]},a.id)}function tq(){let e=(0,e3.aK)().currentSessionIndex;return(0,q.jsx)(tQ,{},e)}},79296:function(e){e.exports={"message-exporter-body":"exporter_message-exporter-body__ieezO","export-content":"exporter_export-content__bLZvx",steps:"exporter_steps__6n3hv","steps-progress":"exporter_steps-progress__BaZCB","steps-progress-inner":"exporter_steps-progress-inner__Bx3Y4","steps-inner":"exporter_steps-inner__EVqvK",step:"exporter_step__WhCEO","step-finished":"exporter_step-finished__eBg9d","step-current":"exporter_step-current__oh5Mc","step-index":"exporter_step-index__bWRYR","step-name":"exporter_step-name__aj81m","preview-actions":"exporter_preview-actions__EdSLJ","image-previewer":"exporter_image-previewer__uKfNQ","preview-body":"exporter_preview-body__qK5Zf","chat-info":"exporter_chat-info__N_j5m",icons:"exporter_icons__7WRoV",logo:"exporter_logo__zu13e","main-title":"exporter_main-title__jjxAd","sub-title":"exporter_sub-title__p1RCl","icon-space":"exporter_icon-space__u_tMK","chat-info-item":"exporter_chat-info-item__3D12j",message:"exporter_message__3aahS",avatar:"exporter_avatar__fGOtt",body:"exporter_body__gcKIl","message-image":"exporter_message-image__ofOeC","message-images":"exporter_message-images__oJoIX","message-image-multi":"exporter_message-image-multi__jzQdX","message-assistant":"exporter_message-assistant__sDmHi","message-user":"exporter_message-user__2t254"}},88809:function(e){e.exports={"message-selector":"message-selector_message-selector__dOKbo","message-filter":"message-selector_message-filter__Q5XSd","search-bar":"message-selector_search-bar__4E5gq",actions:"message-selector_actions__MyZCT",messages:"message-selector_messages__GbOLr",message:"message-selector_message___TaV9","message-selected":"message-selector_message-selected__b3mDv",avatar:"message-selector_avatar__HCJ8t",body:"message-selector_body__rKEIZ",date:"message-selector_date__vc48w",content:"message-selector_content__Z9W8L",checkbox:"message-selector_checkbox__erPyd"}}}]);